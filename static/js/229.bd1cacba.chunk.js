"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[229],{1370:(e,o,n)=>{n.d(o,{Z:()=>a});var t=n(2791),l=n(6151);const s=(0,n(6934).ZP)(l.Z)((e=>{let{theme:o,ownerState:n}=e;const{palette:t,functions:l,borders:s,boxShadows:c}=o,{color:r,variant:i,size:a,circular:d,iconOnly:u,darkMode:h}=n,{white:j,text:p,transparent:x,gradients:m,grey:b}=t,{boxShadow:f,linearGradient:g,pxToRem:C,rgba:Z}=l,{borderRadius:w}=s,{colored:y}=c;return{..."contained"===i&&(()=>{const e=t[r]?t[r].main:j.main,o=t[r]?t[r].focus:j.focus,n=y[r]?"".concat(f([0,3],[3,0],t[r].main,.15),", ").concat(f([0,3],[1,-2],t[r].main,.2),", ").concat(f([0,1],[5,0],t[r].main,.15)):"none",l=y[r]?"".concat(f([0,14],[26,-12],t[r].main,.4),", ").concat(f([0,4],[23,0],t[r].main,.15),", ").concat(f([0,8],[10,-5],t[r].main,.2)):"none";let s=j.main;h||"white"!==r&&"light"!==r&&t[r]?!h||"white"!==r&&"light"!==r&&t[r]||(s=b[600]):s=p.main;let c=j.main;return"white"===r?c=p.main:"primary"!==r&&"error"!==r&&"dark"!==r||(c=j.main),{background:e,color:s,boxShadow:n,"&:hover":{backgroundColor:e,boxShadow:l},"&:focus:not(:hover)":{backgroundColor:o,boxShadow:t[r]?f([0,0],[0,3.2],t[r].main,.5):f([0,0],[0,3.2],j.main,.5)},"&:disabled":{backgroundColor:e,color:c}}})(),..."outlined"===i&&(()=>{const e="white"===r?Z(j.main,.1):x.main,o=t[r]?t[r].main:j.main,n=t[r]?f([0,0],[0,3.2],t[r].main,.5):f([0,0],[0,3.2],j.main,.5);let l=t[r]?t[r].main:Z(j.main,.75);return"white"===r&&(l=Z(j.main,.75)),{background:e,color:o,borderColor:l,"&:hover":{background:x.main,borderColor:o},"&:focus:not(:hover)":{background:x.main,boxShadow:n},"&:active:not(:hover)":{backgroundColor:o,color:j.main,opacity:.85},"&:disabled":{color:o,borderColor:o}}})(),..."gradient"===i&&(()=>{const e="white"!==r&&m[r]?g(m[r].main,m[r].state):j.main,o=y[r]?"".concat(f([0,3],[3,0],t[r].main,.15),", ").concat(f([0,3],[1,-2],t[r].main,.2),", ").concat(f([0,1],[5,0],t[r].main,.15)):"none",n=y[r]?"".concat(f([0,14],[26,-12],t[r].main,.4),", ").concat(f([0,4],[23,0],t[r].main,.15),", ").concat(f([0,8],[10,-5],t[r].main,.2)):"none";let l=j.main;return"white"===r?l=p.main:"light"===r&&(l=m.dark.state),{background:e,color:l,boxShadow:o,"&:hover":{boxShadow:n},"&:focus:not(:hover)":{boxShadow:o},"&:disabled":{background:e,color:l}}})(),..."text"===i&&(()=>{const e=t[r]?t[r].main:j.main,o=t[r]?t[r].focus:j.focus;return{color:e,"&:hover":{color:o},"&:focus:not(:hover)":{color:o}}})(),...d&&{borderRadius:w.section},...u&&(()=>{let e=C(38);"small"===a?e=C(25.4):"large"===a&&(e=C(52));let o="".concat(C(11)," ").concat(C(11)," ").concat(C(10));return"small"===a?o=C(4.5):"large"===a&&(o=C(16)),{width:e,minWidth:e,height:e,minHeight:e,padding:o,"& .material-icons":{marginTop:0},"&:hover, &:focus, &:active":{transform:"none"}}})()}}));var c=n(9373),r=n(184);const i=(0,t.forwardRef)(((e,o)=>{let{color:n,variant:t,size:l,circular:i,iconOnly:a,children:d,...u}=e;const[h]=(0,c.Ad)(),{darkMode:j}=h;return(0,r.jsx)(s,{...u,ref:o,color:"primary",variant:"gradient"===t?"contained":t,size:l,ownerState:{color:n,variant:t,size:l,circular:i,iconOnly:a,darkMode:j},children:d})}));i.defaultProps={size:"medium",variant:"contained",color:"white",circular:!1,iconOnly:!1};const a=i},4229:(e,o,n)=>{n.r(o),n.d(o,{default:()=>K});var t=n(2791),l=(n(8377),n(8755),n(1889)),s=n(7621),c=(n(7035),n(2916),n(1370),n(6259),n(9373),n(8550)),r=n(9434),i=n(9747),a=n(3967),d=n(1243),u=n(3379),h=n(3239),j=n(6934),p=n(9836),x=n(3382),m=n(8745),b=n(618),f=n(9281),g=n(6890),C=n(5855),Z=n(890),w=n(68),y=n(3400),A=n(8956),S=n(184);function v(e){let{name:o}=e;return(0,S.jsx)(Z.Z,{display:"block",variant:"h6",fontSize:"16px",fontWeight:400,children:o})}const k=(0,j.ZP)(m.Z)((e=>{let{theme:o}=e;return{["&.".concat(b.Z.head)]:{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"},["&.".concat(b.Z.body)]:{fontSize:14}}})),O=(0,j.ZP)(C.Z)((e=>{let{theme:o}=e;return{"&:nth-of-type(odd)":{backgroundColor:o.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function T(e){let{filtereddata:o,onOpenEditModal:n,onOpenDeleteModal:l,onOpenViewModal:s}=e;const[c,r]=(0,t.useState)([]),[i]=(0,t.useState)([{Header:"s.no",accessor:"sno",align:"left"},{Header:"subject",accessor:"subject",align:"left"},{Header:"action",accessor:"action",align:"center"}]);return(0,t.useEffect)((()=>{console.log(c)}),[c]),(0,t.useEffect)((()=>{let e=[];console.log(o),o&&null!==o&&(e=o.map(((e,o)=>({sno:(0,S.jsx)(Z.Z,{color:"text",variant:"h6",fontSize:"16px",fontWeight:400,children:o+1}),subject:(0,S.jsx)(v,{name:"".concat(e.name)}),action:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w.Z,{title:"Edit",placement:"top",children:(0,S.jsx)(y.Z,{color:"primary",type:"button",onClick:()=>n(e),children:(0,S.jsx)(A.D9l,{size:"24px"})})}),(0,S.jsx)(w.Z,{title:"Delete",placement:"top",children:(0,S.jsx)(y.Z,{color:"primary",type:"button",onClick:()=>l(e),children:(0,S.jsx)(A.IT9,{size:"24px"})})})]})})))),r(e)}),[o]),(0,S.jsx)(f.Z,{children:(0,S.jsxs)(p.Z,{sx:{minWidth:700,boxShadow:"none"},size:"small","aria-label":"customized table",children:[(0,S.jsx)(g.Z,{children:(0,S.jsxs)(C.Z,{children:[(0,S.jsx)(k,{align:"left",children:"S.No"}),(0,S.jsx)(k,{align:"left",children:"Subject"}),(0,S.jsx)(k,{align:"center",children:"Action"})]})}),(0,S.jsx)(x.Z,{children:c&&c.map((e=>(0,S.jsxs)(O,{children:[(0,S.jsx)(k,{component:"th",scope:"row",align:i[0].align,children:e.sno}),(0,S.jsx)(k,{align:i[1].align,children:e.subject}),(0,S.jsx)(k,{align:i[2].align,children:e.action})]},e.subject)))})]})})}var E=n(6151),P=n(5289),z=n(7123),M=n(9157),D=n(5661),H=n(4554),I=n(9012),R=(n(8001),n(6739)),W=n(2506),V=n(1724);const q=V.Ry().shape({subject:V.Z_().required("Subject is required")});function L(e){let{isOpen:o,onClose:n,onCloseEmpty:t}=e;return(0,S.jsxs)(P.Z,{open:o,fullWidth:!0,children:[(0,S.jsx)(D.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(H.Z,{padding:"8px",fontSize:18,children:"Add Subject"}),(0,S.jsx)(y.Z,{onClick:t,children:(0,S.jsx)(R.Z,{})})]})}),(0,S.jsx)(W.J9,{initialValues:{subject:""},validationSchema:q,onSubmit:e=>{console.log(e),n(e)},children:e=>{let{handleSubmit:o,errors:n,touched:t,setFieldValue:s}=e;return(0,S.jsxs)(W.l0,{onSubmit:o,children:[(0,S.jsx)(M.Z,{children:(0,S.jsx)(I.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,children:(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{name:"subject",label:"Subject",variant:"outlined",error:t.subject&&Boolean(n.subject),helperText:t.subject&&n.subject,onChange:e=>{s("subject",e.target.value)},focused:!0})})})})}),(0,S.jsx)(z.Z,{children:(0,S.jsx)(E.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}const N=V.Ry().shape({subject:V.Z_().required("Subject is required")});function F(e){let{isOpen:o,onClose:n,onCloseEmpty:s,editModalData:r}=e;const{name:i}=r,a={subject:i};(0,t.useEffect)((()=>{console.log(a)}),[a]);return(0,S.jsxs)(P.Z,{open:o,fullWidth:!0,children:[(0,S.jsx)(D.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(H.Z,{padding:"8px",fontSize:18,children:"Edit Subject"}),(0,S.jsx)(y.Z,{onClick:s,children:(0,S.jsx)(R.Z,{})})]})}),(0,S.jsx)(W.J9,{initialValues:a,validationSchema:N,onSubmit:e=>{console.log({...e}),n({...e})},children:e=>{let{values:o,handleSubmit:n,errors:t,touched:s,setFieldValue:r}=e;return(0,S.jsxs)(W.l0,{onSubmit:n,children:[(0,S.jsx)(M.Z,{children:(0,S.jsx)(I.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,children:(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{name:"subject",label:"Subject",variant:"outlined",error:s.subject&&Boolean(t.subject),helperText:s.subject&&t.subject,defaultValue:o.subject,onChange:e=>{r("subject",e.target.value)},focused:!0})})})})}),(0,S.jsx)(z.Z,{children:(0,S.jsx)(E.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}const G=V.Ry().shape({subject:V.Z_().required("Subject is required")});function B(e){let{isOpen:o,onClose:n,onCloseEmpty:t,editModalData:s}=e;const{name:r}=s,i={subject:r};return(0,S.jsxs)(P.Z,{open:o,fullWidth:!0,children:[(0,S.jsx)(D.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(H.Z,{padding:"8px",fontSize:18,children:"Confirm Delete"}),(0,S.jsx)(y.Z,{onClick:t,children:(0,S.jsx)(R.Z,{})})]})}),(0,S.jsx)(W.J9,{initialValues:i,validationSchema:G,onSubmit:e=>{console.log(e),n(e)},children:e=>{let{values:o,handleSubmit:n,errors:t,touched:s,setFieldValue:r}=e;return(0,S.jsxs)(W.l0,{onSubmit:n,children:[(0,S.jsx)(M.Z,{children:(0,S.jsx)(I.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,children:(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{name:"subject",label:"Subject",variant:"outlined",error:s.subject&&Boolean(t.subject),helperText:s.subject&&t.subject,defaultValue:o.subject,disabled:!0})})})})}),(0,S.jsx)(z.Z,{children:(0,S.jsx)(E.Z,{type:"submit",color:"primary",children:"Delete"})})]})}})]})}var J=n(9504),U=n(4721),X=n(1979),_=n(1701);(0,X.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});const K=function(){const e=(0,a.Z)(),[o,n]=(0,t.useState)(!1),[j,p]=(0,t.useState)(!1),[x,m]=(0,t.useState)(""),[b,f]=(0,t.useState)({}),[g,C]=(0,t.useState)(""),[v,k]=(0,t.useState)(!1),O=(0,r.I0)();(0,t.useLayoutEffect)((()=>{O(i.k.getAll())}),[]);const E=(0,r.v9)((e=>e.subject.data)),P=(0,t.useMemo)((()=>{if(console.log(g),""===g.trim())return E;return E.filter((e=>(console.log(e,e.name,e.name.toLowerCase(),g),e.name.toLowerCase().includes(g.trim().toLowerCase()))))}),[g,E]),z=t.useRef(null),M=()=>{n(!1),m(""),f({})},D=(0,t.useCallback)((e=>{var o;console.log(e.target.value,z,z.current),null===(o=z.current)||void 0===o||o.focus(),C(e.target.value)}));return(0,S.jsxs)(_.Z,{theme:e,children:[(0,S.jsx)(u.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:j,children:(0,S.jsx)(h.Z,{color:"inherit"})}),o&&"add"===x?(0,S.jsx)(L,{isOpen:o,onClose:async e=>{p(!0),console.log(e);try{const o=await d.Z.post("".concat("https://infopublisher.in:5000","/subject/submit-form"),{...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(o.data),n(!1),m(""),O(i.k.getAll()),p(!1)}catch(o){p(!1),console.error(o)}},onCloseEmpty:M}):null,o&&"edit"===x?(0,S.jsx)(F,{isOpen:o,onClose:async e=>{p(!0),console.log(e,b);try{const o=await d.Z.post("".concat("https://infopublisher.in:5000","/subject/submit-edit-form"),{...b,...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(o.data),n(!1),m(""),f({}),O(i.k.getAll()),p(!1)}catch(o){p(!1),console.error(o)}},onCloseEmpty:M,editModalData:b}):null,o&&"delete"===x?(0,S.jsx)(B,{isOpen:o,onClose:async e=>{p(!0),console.log(e,b);try{const o=await d.Z.post("".concat("https://infopublisher.in:5000","/subject/submit-delete-form"),{...b,...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(o.data),n(!1),m(""),f({}),O(i.k.getAll()),p(!1)}catch(o){p(!1),console.error(o)}},onCloseEmpty:M,editModalData:b}):null,(0,S.jsx)(l.ZP,{children:(0,S.jsxs)(s.Z,{sx:{boxShadow:"none"},children:[(0,S.jsx)(J.Z,{children:(0,S.jsxs)(l.ZP,{variant:"gradient",bgcolor:"info",borderRadius:"lg",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(Z.Z,{variant:"h3",fontWeight:500,color:"primary",children:"Subject List"}),(0,S.jsxs)(l.ZP,{size:"small",component:"form",sx:{p:"2px 0px",display:"flex",alignItems:"center"},children:[v?(0,S.jsx)(c.Z,{sx:{ml:1,flex:1},size:"small",placeholder:"Search this table...",inputProps:{"aria-label":"search this table..."},autoFocus:!0,value:g,onChange:D,variant:"subject",label:"Search"}):null,(0,S.jsx)(w.Z,{title:"Search...",placement:"top",children:(0,S.jsx)(y.Z,{color:"primary",type:"button","aria-label":"search",onClick:()=>{k((e=>!e))},children:(0,S.jsx)(A.jVj,{size:"24px"})})}),(0,S.jsx)(w.Z,{title:"Add Subject",placement:"top",children:(0,S.jsx)(y.Z,{color:"secondary","aria-label":"delete",onClick:()=>{n(!0),m("add")},children:(0,S.jsx)(A.SC9,{size:"27px"})})})]})]})}),(0,S.jsx)(U.Z,{}),(0,S.jsx)(T,{filtereddata:P,onOpenEditModal:e=>{n(!0),m("edit"),f(e)},onOpenDeleteModal:e=>{n(!0),m("delete"),f(e)}})]})})]})}}}]);
//# sourceMappingURL=229.bd1cacba.chunk.js.map