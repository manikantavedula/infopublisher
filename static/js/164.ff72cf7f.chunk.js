"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[164],{71164:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});t(74165),t(15861);var a=t(29439),r=t(1413),o=t(66934),s=t(91478),i=t(97581),c=t(55818),l=t(3721),d=t(83379),u=t(64554),p=t(20890),f=t(20068),h=t(13400),m=(t(31243),t(72791)),Z=t(59434),g=t(81894),x=t(68001),v=(t(38591),t(39717)),j=(t(1065),t(13967)),b=t(13239),y=t(4942),S=t(68745),C=t(90618),I=t(35855),_=t(80184);(0,o.ZP)(S.Z)((function(e){var n;e.theme;return n={},(0,y.Z)(n,"&.".concat(C.Z.head),{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"}),(0,y.Z)(n,"&.".concat(C.Z.body),{fontSize:14}),n})),(0,o.ZP)(I.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));t(93251),t(69747),t(41399),t(99997),t(92506);var k=t(77942);k.Ry().shape({series:k.Z_().required("Please select an option"),standard:k.Z_().required("Please select an option"),subject:k.Z_().required("Please select an option"),type:k.Z_().required("Please select an option"),onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});var w=t(5289),q=t(39157),N=t(65661),P=t(96739),z=t(73980);function E(e){var n=e.isOpen,t=e.onCloseEmpty,a=e.editModalData;return(0,_.jsxs)(w.Z,{open:n,fullWidth:!0,children:[(0,_.jsx)(N.Z,{className:"flex justify-content-between",children:(0,_.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(u.Z,{padding:"8px",fontSize:18,children:"".concat(a.lessonIdName," (Part ").concat(a.partNo,") - ").concat(a.name)}),(0,_.jsx)(h.Z,{onClick:t,children:(0,_.jsx)(P.Z,{})})]})}),(0,_.jsx)(q.Z,{children:(0,_.jsx)(z.Z,{videoId:a.animationVideoId})})]})}var O=t(61979),L=t(1701),A=t(58956),M=t(16871),R=(t(80616),t(77125)),V=t(49657),D=t(52521),W=t(89704),J=t.n(W);(0,O.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});var T=(0,o.ZP)((function(e){return(0,_.jsx)(i.Z,(0,r.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var n=e.theme;return{border:"1px solid ".concat(n.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),B=(0,o.ZP)((function(e){return(0,_.jsx)(c.Z,(0,r.Z)({expandIcon:(0,_.jsx)(s.Z,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var n=e.theme;return{backgroundColor:"dark"===n.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}})),F=(0,o.ZP)(l.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));var G=function(){(0,j.Z)();var e=(0,m.useState)(0),n=(0,a.Z)(e,2),t=(n[0],n[1],M.s0,(0,m.useState)(!1)),o=(0,a.Z)(t,2),s=o[0],i=o[1],c=(0,m.useState)(!1),l=(0,a.Z)(c,2),y=l[0],S=l[1],C=(0,m.useState)(""),I=(0,a.Z)(C,2),k=I[0],w=I[1],q=(0,m.useState)({}),N=(0,a.Z)(q,2),P=N[0],z=N[1],O=(0,m.useState)(""),W=(0,a.Z)(O,2),G=W[0],K=W[1],U=(0,m.useState)(!1),H=(0,a.Z)(U,2),Q=(H[0],H[1],(0,m.useState)("")),X=(0,a.Z)(Q,2),Y=(X[0],X[1]),$=(0,m.useState)([]),ee=(0,a.Z)($,2),ne=(ee[0],ee[1]),te=(0,Z.I0)();(0,m.useLayoutEffect)((function(){S(!0),te(g.F.getAll()),te(x.v.getAll()),te(v.a.getAll());localStorage.getItem("access_token"),localStorage.getItem("refresh_token"),localStorage.getItem("userinfo_response"),localStorage.getItem("expiration_timestamp")}),[]);var ae=(0,Z.v9)((function(e){return e.lesson.data})),re=((0,Z.v9)((function(e){return e.series.data})),(0,Z.v9)((function(e){return e.animatedClasses.data}))),oe=(0,m.useState)(re),se=(0,a.Z)(oe,2),ie=se[0],ce=se[1];(0,m.useEffect)((function(){console.log(ie)}),[ie]),(0,m.useEffect)((function(){if(console.log(re),re&&re.length>0){console.log(re),ce(re);var e=localStorage.getItem("key_for_access"),n=function(e,n){var t=J().AES.decrypt(e,n).toString(J().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),e),t=n.role;if("school"===t){Y(t),console.log(n);var o=n.school_series.split(", "),s=[];o.forEach((function(e){var n=e.split("|-|"),t=(0,a.Z)(n,2),r=t[0],o=t[1],i=s.find((function(e){return e.id===parseInt(r)}));i?i.standard.push(parseInt(o)):s.push({id:parseInt(r),standard:[parseInt(o)]})})),console.log(s),ne(s);var i=re.filter((function(e){return s.some((function(n){return e.series_id===n.id}))})).map((function(e){var n=e.data.filter((function(n){return s.some((function(t){return e.series_id===t.id&&t.standard.includes(n.standard_id)}))}));return(0,r.Z)((0,r.Z)({},e),{},{data:n})}));console.log(re,s,i),ce(i)}else if("student"===t){Y(t),console.log(re,n);var c=re.filter((function(e){return console.log(e,n.series),n.series.map((function(e){return Number(e)})).includes(e.series_id)})).map((function(e){console.log(e);var t=e.data.filter((function(t){return n.series.map((function(e){return Number(e)})).includes(e.series_id)&&n.standard.map((function(e){return Number(e)})).includes(t.standard_id)}));return(0,r.Z)((0,r.Z)({},e),{},{data:t})}));console.log(re,c),ce(c)}S(!1)}}),[re]),(0,m.useMemo)((function(){return console.log(G),""===G.trim()?ae:ae.filter((function(e){return console.log(e,e.name,e.name.toLowerCase(),G),e.name.toLowerCase().includes(G.trim().toLowerCase())}))}),[G,ae]);var le=m.useRef(null),de=((0,m.useCallback)((function(e){var n;console.log(e.target.value,le,le.current),null===(n=le.current)||void 0===n||n.focus(),K(e.target.value)})),(0,m.useState)(!1)),ue=(0,a.Z)(de,2),pe=ue[0],fe=ue[1],he=(0,m.useState)(!1),me=(0,a.Z)(he,2),Ze=me[0],ge=me[1],xe=(0,m.useState)(!1),ve=(0,a.Z)(xe,2),je=ve[0],be=ve[1],ye=(0,m.useState)(!1),Se=(0,a.Z)(ye,2),Ce=Se[0],Ie=Se[1],_e=(0,m.useState)(!1),ke=(0,a.Z)(_e,2),we=ke[0],qe=ke[1],Ne=function(e){return function(n,t){ge(!!t&&e),be(!1),Ie(!1),qe(!1)}},Pe=function(e){return function(n,t){be(!!t&&e),Ie(!1),qe(!1)}},ze=function(e){return function(n,t){Ie(!!t&&e),qe(!1)}},Ee=function(e){return function(n,t){qe(!!t&&e)}};function Oe(e){var n=null,t=e.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?/]+)/);return t&&(n=t[1]),n}return(0,_.jsxs)(L.Z,{children:[(0,_.jsx)(d.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:y,children:(0,_.jsx)(b.Z,{color:"inherit"})}),s&&"video"===k?(0,_.jsx)(E,{isOpen:s,onCloseEmpty:function(){i(!1),w(""),z({})},editModalData:P}):null,(0,_.jsx)(u.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:ie&&ie.length>0&&ie.map((function(e,n){return(0,_.jsxs)(T,{expanded:pe==="panelseries".concat(n+1),onChange:(t="panelseries".concat(n+1),function(e,n){fe(!!n&&t),ge(!1),be(!1),Ie(!1),qe(!1)}),children:[(0,_.jsx)(B,{"aria-controls":"panelseries".concat(n+1,"d-content"),id:"panelseries".concat(n+1,"d-header"),children:(0,_.jsx)(p.Z,{children:"Whiz Kid"===e.name?(0,_.jsx)("img",{src:R,width:100}):"Smart Learn"===e.name?(0,_.jsx)("img",{src:V,width:100}):(0,_.jsx)("img",{src:D,width:100})})}),(0,_.jsx)(F,{children:e.data.length>0&&e.data.map((function(t,a){return(0,_.jsxs)(T,{expanded:Ze==="panelstandard".concat(n+a+1),onChange:Ne("panelstandard".concat(n+a+1)),children:[(0,_.jsx)(B,{"aria-controls":"panelstandard".concat(n+a+1,"d-content"),id:"panelstandard".concat(n+a+1,"d-header"),children:(0,_.jsx)(p.Z,{children:t.name})}),(0,_.jsx)(F,{children:t.data.length>0&&t.data.map((function(t,o){return(0,_.jsxs)(T,{expanded:je==="panelsubject".concat(n+a+o+1),onChange:Pe("panelsubject".concat(n+a+o+1)),children:[(0,_.jsx)(B,{"aria-controls":"panelsubject".concat(n+a+o+1,"d-content"),id:"panelsubject".concat(n+a+o+1,"d-header"),children:(0,_.jsx)(p.Z,{children:t.name})}),(0,_.jsx)(F,{children:t.data.length>0&&t.data.map((function(t,s){return(0,_.jsxs)(T,{expanded:Ce==="panellesson".concat(n+a+o+s+1),onChange:ze("panellesson".concat(n+a+o+s+1)),children:[(0,_.jsx)(B,{"aria-controls":"panellesson".concat(n+a+o+s+1,"d-content"),id:"panellesson".concat(n+a+o+s+1,"d-header"),children:(0,_.jsx)(p.Z,{children:t.name})}),(0,_.jsx)(F,{children:t.parts.length>0&&t.parts.map((function(c,l){return(0,_.jsxs)(T,{expanded:we==="panelparts".concat(n+a+o+s+l+1),onChange:Ee("panelparts".concat(n+a+o+s+l+1)),children:[(0,_.jsx)(B,{"aria-controls":"panelparts".concat(n+a+o+s+l+1,"d-content"),id:"panelparts".concat(n+a+o+s+l+1,"d-header"),children:(0,_.jsx)(p.Z,{children:c.name})}),(0,_.jsx)(F,{children:c.animationVideoId?(0,_.jsx)(f.Z,{title:"Live Video",placement:"top",className:c.animationVideoId,children:(0,_.jsx)(h.Z,{color:"primary",type:"button",onClick:function(){return n=(0,r.Z)((0,r.Z)({},e),{},{videoType:"live",lessonIdName:t.name,name:c.name,partNo:c.partNo,animationVideoId:Oe(c.animationVideoId)}),i(!0),w("video"),void z(n);var n},children:(0,_.jsx)(A.OiJ,{size:"24px"})})}):null})]},"panelparts".concat(n+a+o+s+l+1))}))})]},"panellesson".concat(n+a+o+s+1))}))})]},"panelsubject".concat(n+a+o+1))}))})]},"panelstandard".concat(n+a+1))}))})]},"panelseries".concat(n+1));var t}))})]})}},73980:function(e,n,t){var a=t(72791),r=t(85036),o=(t(86054),t(80184));n.Z=function(e){var n=e.videoId,t=(0,a.useRef)();(0,a.useEffect)((function(){t.current&&t.current.plyr&&t.current.plyr.play()}),[]);var s={type:"video",sources:[{src:n,provider:"youtube"}]};return(0,o.jsx)(r.Z,{source:s,ref:t,options:{autoplay:!0}})}},52521:function(e,n,t){e.exports=t.p+"static/media/globalsmart.9a3b57e2f19273329020.png"},49657:function(e,n,t){e.exports=t.p+"static/media/smartlearn.b88014c56d830e8c0b03.png"},77125:function(e,n,t){e.exports=t.p+"static/media/whizkid.e0fd82f422b08cb0f651.png"}}]);
//# sourceMappingURL=164.ff72cf7f.chunk.js.map