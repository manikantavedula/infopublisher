"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[45],{84045:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var r=t(74165),a=t(1413),s=t(15861),l=t(29439),i=t(72791),o=t(61889),c=t(57621),d=t(39373),u=t(48550),h=t(59434),m=t(1469),f=t(31243),x=t(83379),p=t(13239),g=t(4942),Z=t(66934),j=t(79836),v=t(53382),b=t(68745),C=t(90618),y=t(39281),S=t(56890),A=t(35855),w=t(20890),E=t(20068),q=t(13400),P=t(58956),_=t(80184);function T(e){var n=e.name;return(0,_.jsx)(w.Z,{display:"block",variant:"h6",fontSize:"16px",fontWeight:400,children:n})}var O=(0,Z.ZP)(b.Z)((function(e){var n;e.theme;return n={},(0,g.Z)(n,"&.".concat(C.Z.head),{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"}),(0,g.Z)(n,"&.".concat(C.Z.body),{fontSize:14}),n})),k=(0,Z.ZP)(A.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function I(e){var n=e.filtereddata,t=e.onOpenEditModal,r=e.onOpenDeleteModal,a=e.onOpenViewModal,s=(0,i.useState)([]),o=(0,l.Z)(s,2),c=o[0],d=o[1],u=(0,i.useState)([{Header:"s.no",accessor:"sno",align:"left"},{Header:"student name",accessor:"student name",align:"left"},{Header:"series",accessor:"series",align:"left"},{Header:"standard",accessor:"standard",align:"left"},{Header:"contact",accessor:"contact",align:"center"},{Header:"action",accessor:"action",align:"center"}]),h=(0,l.Z)(u,1)[0];return(0,i.useEffect)((function(){console.log(c)}),[c]),(0,i.useEffect)((function(){var e=[];console.log(n),n&&null!==n&&(e=n.map((function(e,n){return{sno:(0,_.jsx)(w.Z,{color:"text",variant:"h6",fontSize:"16px",fontWeight:400,children:n+1}),student:(0,_.jsx)(T,{name:"".concat(e.name)}),series:(0,_.jsx)(T,{name:"".concat(e.series)}),standard:(0,_.jsx)(T,{name:"".concat(e.standard)}),contact:(0,_.jsx)(T,{name:"".concat(e.contact)}),action:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(E.Z,{title:"View",placement:"top",children:(0,_.jsx)(q.Z,{color:"primary",type:"button",onClick:function(){return a(e)},children:(0,_.jsx)(P.tCy,{size:"24px"})})}),(0,_.jsx)(E.Z,{title:"Edit",placement:"top",children:(0,_.jsx)(q.Z,{color:"primary",type:"button",onClick:function(){return t(e)},children:(0,_.jsx)(P.D9l,{size:"24px"})})}),(0,_.jsx)(E.Z,{title:"Delete",placement:"top",children:(0,_.jsx)(q.Z,{color:"primary",type:"button",onClick:function(){return r(e)},children:(0,_.jsx)(P.IT9,{size:"24px"})})})]})}}))),d(e)}),[n]),(0,_.jsx)(y.Z,{children:(0,_.jsxs)(j.Z,{sx:{minWidth:700,boxShadow:"none"},size:"small","aria-label":"customized table",children:[(0,_.jsx)(S.Z,{children:(0,_.jsxs)(A.Z,{children:[(0,_.jsx)(O,{align:h[0].align,children:"S.No"}),(0,_.jsx)(O,{align:h[1].align,children:"Student"}),(0,_.jsx)(O,{align:h[2].align,children:"Series"}),(0,_.jsx)(O,{align:h[2].align,children:"Standard"}),(0,_.jsx)(O,{align:h[3].align,children:"Contact"}),(0,_.jsx)(O,{align:h[4].align,children:"Action"})]})}),(0,_.jsx)(v.Z,{children:c&&c.map((function(e,n){return(0,_.jsxs)(k,{children:[(0,_.jsx)(O,{component:"th",scope:"row",align:h[0].align,children:e.sno}),(0,_.jsx)(O,{align:h[1].align,children:e.student}),(0,_.jsx)(O,{align:h[2].align,children:e.series}),(0,_.jsx)(O,{align:h[2].align,children:e.standard}),(0,_.jsx)(O,{align:h[3].align,children:e.contact}),(0,_.jsx)(O,{align:h[4].align,children:e.action})]},n)}))})]})})}var B=t(93433),N=t(36151),W=t(5289),z=t(97123),V=t(39157),M=t(65661),D=t(64554),L=t(79012),R=t(47071),H=t(68096),$=t(94925),J=t(58406),G=t(23786),U=t(68001),F=t(93251),X=t(96739),K=t(92506),Q=t(77942),Y=t(89704),ee=t.n(Y);function ne(e){var n,t=e.isOpen,a=e.onClose,c=e.onCloseEmpty,d=e.errorContact,m=(0,i.useState)([]),f=(0,l.Z)(m,2),x=f[0],p=f[1],Z=(0,h.I0)();(0,i.useLayoutEffect)((function(){Z(U.v.getAll()),Z(F.$.getAll())}),[]);var j=(0,h.v9)((function(e){return e.series.data})),v=(0,h.v9)((function(e){return e.standard.data})),b=localStorage.getItem("key_for_access"),C=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),b);(0,i.useEffect)((function(){console.log(x)}),[x]),(0,i.useEffect)((function(){console.log(j);var e=C.school_series,n=(0,B.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));p(j&&j.length>0&&j.filter((function(e){return n.includes(e.id)})))}),[j]),(0,i.useEffect)((function(){console.log(v)}),[v]),(0,i.useEffect)((function(){console.log(d)}),[d]);var y=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==d){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n)),S={name:"",email:"",contact:"",series:"",standard:"",address:"",student_school:{},created_by:C.id};return(0,_.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,_.jsx)(M.Z,{className:"flex justify-content-between",children:(0,_.jsxs)(D.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(D.Z,{padding:"8px",fontSize:18,children:"Add Student"}),(0,_.jsx)(q.Z,{onClick:c,children:(0,_.jsx)(X.Z,{})})]})}),(0,_.jsx)(K.J9,{initialValues:S,validationSchema:y,onSubmit:function(e){console.log(e),function(e){console.log(e),a(e)}(e)},children:function(e){var n=e.values,t=e.handleSubmit,r=e.errors,a=e.touched,s=e.setFieldValue;return(0,_.jsxs)(K.l0,{onSubmit:function(e){console.log(e),t(e)},children:[(0,_.jsx)(V.Z,{children:(0,_.jsx)(L.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,_.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:a.name&&Boolean(r.name),helperText:a.name&&r.name,onChange:function(e){s("name",e.target.value)},fullWidth:!0})}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:a.email&&Boolean(r.email),helperText:a.email&&r.email,onChange:function(e){s("email",e.target.value)},fullWidth:!0})}),(0,_.jsxs)(o.ZP,{item:!0,xs:6,children:[(0,_.jsx)(R.Z,{sx:{color:"red"},children:d&&"Contact Already Exists"}),(0,_.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:a.contact&&Boolean(r.contact),helperText:a.contact&&r.contact,onChange:function(e){s("contact",e.target.value)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"}}),x&&null!==x&&x.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",value:n.series,label:"Series",error:a.series&&Boolean(r.series),helperText:a.series&&r.series,onChange:function(e){s("series",e.target.value)},sx:{marginBottom:"16px"},children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),x&&x.length>0&&x.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:r.series&&a.series?r.series:""})]}),v&&null!==v&&v.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",value:n.standard,label:"Standard",error:a.standard&&Boolean(r.standard),helperText:a.standard&&r.standard,onChange:function(e){s("standard",e.target.value)},sx:{marginBottom:"16px"},children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),v&&v.length>0&&v.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:r.standard&&a.standard?r.standard:""})]})]}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",defaultValue:"",style:{width:"100%"},error:a.address&&Boolean(r.address),helperText:a.address&&r.address,onChange:function(e){s("address",e.target.value)}})})]})})}),(0,_.jsx)(z.Z,{children:(0,_.jsx)(N.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}function te(e){var n,t=e.isOpen,a=e.onClose,c=e.onCloseEmpty,d=e.errorContact,m=e.editModalData,f=(0,i.useState)([]),x=(0,l.Z)(f,2),p=x[0],Z=x[1],j=(0,h.I0)();(0,i.useLayoutEffect)((function(){j(U.v.getAll()),j(F.$.getAll()),console.log(m)}),[]);var v=(0,h.v9)((function(e){return e.series.data})),b=(0,h.v9)((function(e){return e.standard.data})),C=m.name,y=m.email,S=m.contact,A=m.series,w=m.standard,E=m.address,P={name:C,email:y,contact:S,series:v&&v.length>0&&v.filter((function(e){return e.name===A}))[0],standard:b&&b.length>0&&b.filter((function(e){return e.name===w}))[0],address:E};console.log(P);var T=localStorage.getItem("key_for_access"),O=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),T);(0,i.useEffect)((function(){console.log(p)}),[p]),(0,i.useEffect)((function(){console.log(v);var e=O.school_series,n=(0,B.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));Z(v&&v.length>0&&v.filter((function(e){return n.includes(e.id)})))}),[v]),(0,i.useEffect)((function(){console.log(b),v&&v.length>0&&b&&b.length>0&&(P={name:C,email:y,contact:S,series:v.filter((function(e){return e.name===A}))[0],standard:b.filter((function(e){return e.name===w}))[0],address:E})}),[v,b]),(0,i.useEffect)((function(){console.log(d)}),[d]);var k=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==d){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n));return(0,_.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,_.jsx)(M.Z,{className:"flex justify-content-between",children:(0,_.jsxs)(D.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(D.Z,{padding:"8px",fontSize:18,children:"Edit Student"}),(0,_.jsx)(q.Z,{onClick:c,children:(0,_.jsx)(X.Z,{})})]})}),v&&b&&p&&v.length>0&&b.length>0&&p.length>0&&(0,_.jsx)(K.J9,{initialValues:P,validationSchema:k,onSubmit:function(e){console.log(e),function(e){console.log(e),a(e)}(e)},children:function(e){var n=e.values,t=e.handleSubmit,r=e.errors,a=e.touched,s=e.setFieldValue;return(0,_.jsxs)(K.l0,{onSubmit:function(e){console.log(e),t(e)},children:[(0,_.jsx)(V.Z,{children:(0,_.jsx)(L.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,_.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:a.name&&Boolean(r.name),helperText:a.name&&r.name,onChange:function(e){s("name",e.target.value)},fullWidth:!0,defaultValue:n.name})}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:a.email&&Boolean(r.email),helperText:a.email&&r.email,onChange:function(e){s("email",e.target.value)},fullWidth:!0,defaultValue:n.email})}),(0,_.jsxs)(o.ZP,{item:!0,xs:6,children:[(0,_.jsx)(R.Z,{sx:{color:"red"},children:d&&"Contact Already Exists"}),(0,_.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:a.contact&&Boolean(r.contact),helperText:a.contact&&r.contact,onChange:function(e){s("contact",e.target.value),console.log(n)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"},defaultValue:n.contact}),p&&null!==p&&p.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",label:"Series",error:a.series&&Boolean(r.series),helperText:a.series&&r.series,onChange:function(e){s("series",e.target.value)},sx:{marginBottom:"16px"},value:p.filter((function(e){return e.name===n.series.name}))[0],children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),p&&p.length>0&&p.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:r.series&&a.series?r.series:""})]}),b&&null!==b&&b.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",label:"Standard",error:a.standard&&Boolean(r.standard),helperText:a.standard&&r.standard,onChange:function(e){s("standard",e.target.value)},sx:{marginBottom:"16px"},value:b.filter((function(e){return e.name===n.standard.name}))[0],children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),b&&b.length>0&&b.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:r.standard&&a.standard?r.standard:""})]})]}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",style:{width:"100%"},error:a.address&&Boolean(r.address),helperText:a.address&&r.address,onChange:function(e){s("address",e.target.value)},defaultValue:n.address})})]})})}),(0,_.jsx)(z.Z,{children:(0,_.jsx)(N.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}function re(e){var n,t=e.isOpen,a=e.onClose,c=e.onCloseEmpty,d=e.errorContact,m=e.editModalData,f=(0,i.useState)([]),x=(0,l.Z)(f,2),p=x[0],Z=x[1],j=(0,h.I0)();(0,i.useLayoutEffect)((function(){j(U.v.getAll()),j(F.$.getAll()),console.log(m)}),[]);var v=(0,h.v9)((function(e){return e.series.data})),b=(0,h.v9)((function(e){return e.standard.data})),C=m.name,y=m.email,S=m.contact,A=m.series,w=m.standard,E=m.address,P={name:C,email:y,contact:S,series:v&&v.length>0&&v.filter((function(e){return e.name===A}))[0],standard:b&&b.length>0&&b.filter((function(e){return e.name===w}))[0],address:E};console.log(P);var T=localStorage.getItem("key_for_access"),O=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),T);(0,i.useEffect)((function(){console.log(p)}),[p]),(0,i.useEffect)((function(){console.log(v);var e=O.school_series,n=(0,B.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));Z(v&&v.length>0&&v.filter((function(e){return n.includes(e.id)})))}),[v]),(0,i.useEffect)((function(){console.log(b),v&&v.length>0&&b&&b.length>0&&(P={name:C,email:y,contact:S,series:v.filter((function(e){return e.name===A}))[0],standard:b.filter((function(e){return e.name===w}))[0],address:E})}),[v,b]),(0,i.useEffect)((function(){console.log(d)}),[d]);var k=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==d){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n));return(0,_.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,_.jsx)(M.Z,{className:"flex justify-content-between",children:(0,_.jsxs)(D.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(D.Z,{padding:"8px",fontSize:18,children:"Are you sure?"}),(0,_.jsx)(q.Z,{onClick:c,children:(0,_.jsx)(X.Z,{})})]})}),v&&b&&p&&v.length>0&&b.length>0&&p.length>0&&(0,_.jsx)(K.J9,{initialValues:P,validationSchema:k,onSubmit:function(e){console.log(e),function(e){console.log(e),a(e)}(e)},children:function(e){var n=e.values,t=e.handleSubmit,r=e.errors,a=e.touched,s=e.setFieldValue;return(0,_.jsxs)(K.l0,{onSubmit:function(e){console.log(e),t(e)},children:[(0,_.jsx)(V.Z,{children:(0,_.jsx)(L.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,_.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:a.name&&Boolean(r.name),helperText:a.name&&r.name,onChange:function(e){s("name",e.target.value)},fullWidth:!0,defaultValue:n.name,disabled:!0,readOnly:!0})}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:a.email&&Boolean(r.email),helperText:a.email&&r.email,onChange:function(e){s("email",e.target.value)},fullWidth:!0,defaultValue:n.email,disabled:!0,readOnly:!0})}),(0,_.jsxs)(o.ZP,{item:!0,xs:6,children:[(0,_.jsx)(R.Z,{sx:{color:"red"},children:d&&"Contact Already Exists"}),(0,_.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:a.contact&&Boolean(r.contact),helperText:a.contact&&r.contact,onChange:function(e){s("contact",e.target.value),console.log(n)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"},defaultValue:n.contact,disabled:!0,readOnly:!0}),p&&null!==p&&p.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",label:"Series",error:a.series&&Boolean(r.series),helperText:a.series&&r.series,onChange:function(e){s("series",e.target.value)},sx:{marginBottom:"16px"},value:p.filter((function(e){return e.name===n.series.name}))[0],disabled:!0,readOnly:!0,children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),p&&p.length>0&&p.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:r.series&&a.series?r.series:""})]}),b&&null!==b&&b.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",label:"Standard",error:a.standard&&Boolean(r.standard),helperText:a.standard&&r.standard,onChange:function(e){s("standard",e.target.value)},sx:{marginBottom:"16px"},value:b.filter((function(e){return e.name===n.standard.name}))[0],disabled:!0,readOnly:!0,children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),b&&b.length>0&&b.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:r.standard&&a.standard?r.standard:""})]})]}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",style:{width:"100%"},error:a.address&&Boolean(r.address),helperText:a.address&&r.address,onChange:function(e){s("address",e.target.value)},defaultValue:n.address,disabled:!0,readOnly:!0})})]})})}),(0,_.jsx)(z.Z,{children:(0,_.jsx)(N.Z,{type:"submit",color:"primary",children:"Delete"})})]})}})]})}function ae(e){var n,t=e.isOpen,a=(e.onClose,e.onCloseEmpty),c=e.errorContact,d=e.editModalData,m=(0,i.useState)([]),f=(0,l.Z)(m,2),x=f[0],p=f[1],Z=(0,h.I0)();(0,i.useLayoutEffect)((function(){Z(U.v.getAll()),Z(F.$.getAll()),console.log(d)}),[]);var j=(0,h.v9)((function(e){return e.series.data})),v=(0,h.v9)((function(e){return e.standard.data})),b=d.name,C=d.email,y=d.contact,S=d.series,A=d.standard,w=d.address,E={name:b,email:C,contact:y,series:j&&j.length>0&&j.filter((function(e){return e.name===S}))[0],standard:v&&v.length>0&&v.filter((function(e){return e.name===A}))[0],address:w};console.log(E);var P=localStorage.getItem("key_for_access"),T=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),P);(0,i.useEffect)((function(){console.log(x)}),[x]),(0,i.useEffect)((function(){console.log(j);var e=T.school_series,n=(0,B.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));p(j&&j.length>0&&j.filter((function(e){return n.includes(e.id)})))}),[j]),(0,i.useEffect)((function(){console.log(v),j&&j.length>0&&v&&v.length>0&&(E={name:b,email:C,contact:y,series:j.filter((function(e){return e.name===S}))[0],standard:v.filter((function(e){return e.name===A}))[0],address:w})}),[j,v]),(0,i.useEffect)((function(){console.log(c)}),[c]);var O=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==c){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n));return(0,_.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,_.jsx)(M.Z,{className:"flex justify-content-between",children:(0,_.jsxs)(D.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(D.Z,{padding:"8px",fontSize:18,children:"Edit Student"}),(0,_.jsx)(q.Z,{onClick:a,children:(0,_.jsx)(X.Z,{})})]})}),j&&v&&x&&j.length>0&&v.length>0&&x.length>0&&(0,_.jsx)(K.J9,{initialValues:E,validationSchema:O,children:function(e){var n=e.values,t=e.errors,r=e.touched,a=e.setFieldValue;return(0,_.jsx)(K.l0,{onSubmit:function(e){console.log(e)},children:(0,_.jsx)(V.Z,{children:(0,_.jsx)(L.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,_.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:r.name&&Boolean(t.name),helperText:r.name&&t.name,onChange:function(e){a("name",e.target.value)},fullWidth:!0,defaultValue:n.name,disabled:!0,readOnly:!0})}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:r.email&&Boolean(t.email),helperText:r.email&&t.email,onChange:function(e){a("email",e.target.value)},fullWidth:!0,defaultValue:n.email,disabled:!0,readOnly:!0})}),(0,_.jsxs)(o.ZP,{item:!0,xs:6,children:[(0,_.jsx)(R.Z,{sx:{color:"red"},children:c&&"Contact Already Exists"}),(0,_.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:r.contact&&Boolean(t.contact),helperText:r.contact&&t.contact,onChange:function(e){a("contact",e.target.value),console.log(n)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"},defaultValue:n.contact,disabled:!0,readOnly:!0}),x&&null!==x&&x.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",label:"Series",error:r.series&&Boolean(t.series),helperText:r.series&&t.series,onChange:function(e){a("series",e.target.value)},sx:{marginBottom:"16px"},value:x.filter((function(e){return e.name===n.series.name}))[0],disabled:!0,readOnly:!0,children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),x&&x.length>0&&x.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:t.series&&r.series?t.series:""})]}),v&&null!==v&&v.length>0&&(0,_.jsxs)(H.Z,{fullWidth:!0,children:[(0,_.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,_.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",label:"Standard",error:r.standard&&Boolean(t.standard),helperText:r.standard&&t.standard,onChange:function(e){a("standard",e.target.value)},sx:{marginBottom:"16px"},value:v.filter((function(e){return e.name===n.standard.name}))[0],disabled:!0,readOnly:!0,children:[(0,_.jsx)(G.Z,{value:"",children:(0,_.jsx)("em",{children:"None"})}),v&&v.length>0&&v.map((function(e){return(0,_.jsx)(G.Z,{value:e,children:e.name})}))]}),(0,_.jsx)(R.Z,{sx:{color:"red"},children:t.standard&&r.standard?t.standard:""})]})]}),(0,_.jsx)(o.ZP,{item:!0,xs:6,children:(0,_.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",style:{width:"100%"},error:r.address&&Boolean(t.address),helperText:r.address&&t.address,onChange:function(e){a("address",e.target.value)},defaultValue:n.address,disabled:!0,readOnly:!0})})]})})})})}})]})}var se=t(61979),le=t(1701),ie=t(13967),oe=t(39504),ce=t(94721);(0,se.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});var de=function(){var e=(0,ie.Z)(),n=(0,i.useState)(!1),t=(0,l.Z)(n,2),g=t[0],Z=t[1],j=(0,i.useState)(!1),v=(0,l.Z)(j,2),b=v[0],C=v[1],y=(0,i.useState)(""),S=(0,l.Z)(y,2),A=S[0],T=S[1],O=(0,i.useState)({}),k=(0,l.Z)(O,2),B=k[0],N=k[1],W=(0,d.Ad)(),z=((0,l.Z)(W,1)[0].darkMode,(0,i.useState)("")),V=(0,l.Z)(z,2),M=V[0],D=V[1],L=(0,i.useState)(!1),R=(0,l.Z)(L,2),H=R[0],$=R[1],J=(0,i.useState)(""),G=(0,l.Z)(J,2),U=G[0],F=G[1],X=(0,i.useState)(""),K=(0,l.Z)(X,2),Q=K[0],Y=K[1];(0,i.useEffect)((function(){}),[]);var ee=(0,h.I0)();(0,i.useLayoutEffect)((function(){ee(m.P.getAll())}),[]);var se=(0,h.v9)((function(e){return e.student.data})),de=(0,i.useMemo)((function(){return console.log(M),""===M.trim()?se:se.filter((function(e){return e.name.toLowerCase().includes(M.trim().toLowerCase())||e.student_series.join(" ").toLowerCase().includes(M.trim().toLowerCase())}))}),[M,se]),ue=i.useRef(null),he=(0,i.useCallback)((function(){Z(!0),T("add")})),me=(0,i.useCallback)((function(e){Z(!0),T("edit"),N(e)})),fe=(0,i.useCallback)((function(e){Z(!0),T("view"),N(e)})),xe=(0,i.useCallback)((function(e){Z(!0),T("delete"),N(e)})),pe=(0,i.useCallback)((function(){Z(!1),T(""),N({})}));(0,i.useEffect)((function(){console.log(U)}),[U]),(0,i.useEffect)((function(){console.log(Q)}),[Q]);var ge=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),console.log(n),e.prev=2,e.next=5,f.Z.post("".concat("https://infopublisher.in:5000","/student/submit-form"),(0,a.Z)({},n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 5:s=e.sent,console.log(s.data),"Contact already exists"===s.data?F(n.contact):(F(""),Z(!1),T(""),ee(m.P.getAll())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(n,t){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n,t){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),console.log(n,B,t),e.prev=2,e.next=5,f.Z.post("".concat("https://infopublisher.in:5000","/student/submit-edit-form"),(0,a.Z)((0,a.Z)({},B),n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 5:s=e.sent,console.log(s.data),"Contact already exists"===s.data?Y(n.contact):(Y(""),Z(!1),T(""),N({}),ee(m.P.getAll())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(n,t){return e.apply(this,arguments)}}(),je=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),console.log(n,B),e.prev=2,e.next=5,f.Z.post("".concat("https://infopublisher.in:5000","/student/submit-delete-form"),(0,a.Z)((0,a.Z)({},B),n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 5:t=e.sent,console.log(t.data),"Contact already exists"===t.data?Y(n.contact):(Y(""),Z(!1),T(""),N({}),ee(m.P.getAll())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),ve=(0,i.useCallback)((function(e){var n;console.log(e.target.value,ue,ue.current),null===(n=ue.current)||void 0===n||n.focus(),D(e.target.value)}));return(0,_.jsxs)(le.Z,{theme:e,children:[(0,_.jsx)(x.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:b,children:(0,_.jsx)(p.Z,{color:"inherit"})}),g&&"add"===A?(0,_.jsx)(ne,{isOpen:g,onClose:ge,onCloseEmpty:pe,errorContact:U}):null,g&&"edit"===A?(0,_.jsx)(te,{isOpen:g,onClose:Ze,onCloseEmpty:pe,editModalData:B,errorContact:Q}):null,g&&"view"===A?(0,_.jsx)(ae,{isOpen:g,onCloseEmpty:pe,editModalData:B}):null,g&&"delete"===A?(0,_.jsx)(re,{isOpen:g,onClose:je,onCloseEmpty:pe,editModalData:B}):null,(0,_.jsx)(o.ZP,{children:(0,_.jsxs)(c.Z,{sx:{boxShadow:"none"},children:[(0,_.jsx)(oe.Z,{children:(0,_.jsxs)(o.ZP,{variant:"gradient",bgcolor:"info",borderRadius:"lg",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(w.Z,{variant:"h3",fontWeight:500,color:"primary",children:"Student List"}),(0,_.jsxs)(o.ZP,{size:"small",component:"form",sx:{p:"2px 0px",display:"flex",alignItems:"center"},children:[H?(0,_.jsx)(u.Z,{sx:{ml:1,flex:1},size:"small",placeholder:"Search this table...",inputProps:{"aria-label":"search this table..."},autoFocus:!0,value:M,onChange:ve,variant:"standard",label:"Search"}):null,(0,_.jsx)(E.Z,{title:"Search...",placement:"top",children:(0,_.jsx)(q.Z,{color:"primary",type:"button","aria-label":"search",onClick:function(){$((function(e){return!e}))},children:(0,_.jsx)(P.jVj,{size:"24px"})})}),(0,_.jsx)(E.Z,{title:"Add Student",placement:"top",children:(0,_.jsx)(q.Z,{color:"secondary","aria-label":"delete",onClick:he,children:(0,_.jsx)(P.SC9,{size:"27px"})})})]})]})}),(0,_.jsx)(ce.Z,{}),(0,_.jsx)(I,{filtereddata:de,onOpenEditModal:me,onOpenDeleteModal:xe,onOpenViewModal:fe})]})})]})}}}]);
//# sourceMappingURL=45.4fc9e965.chunk.js.map