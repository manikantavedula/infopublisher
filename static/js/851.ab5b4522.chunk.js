"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[851],{7851:(e,t,o)=>{o.r(t),o.d(t,{default:()=>K});var l=o(2791),s=o(1889),r=o(7621),n=(o(9373),o(8550)),i=o(9434),c=o(5011),a=o(1243),d=o(3379),u=o(3239),h=(o(3658),o(1370),o(7035),o(2916),o(184));var p=o(3967),x=o(6934),b=o(9836),j=o(3382),m=o(8745),f=o(618),C=o(9281),Z=o(6890),g=o(5855),A=o(890),y=o(68),w=o(3400),S=o(8956);function D(e){let{name:t}=e;return(0,h.jsx)(A.Z,{display:"block",variant:"h6",fontSize:"16px",fontWeight:400,children:t})}const O=(0,x.ZP)(m.Z)((e=>{let{theme:t}=e;return{["&.".concat(f.Z.head)]:{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"},["&.".concat(f.Z.body)]:{fontSize:14}}})),T=(0,x.ZP)(g.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function v(e){let{filtereddata:t,onOpenEditModal:o,onOpenDeleteModal:s}=e;const[r,n]=(0,l.useState)([]),[i]=(0,l.useState)([{Header:"s.no",accessor:"sno",align:"left"},{Header:"distributor",accessor:"distributor",align:"left"},{Header:"action",accessor:"action",align:"center"}]);return(0,l.useEffect)((()=>{console.log(r)}),[r]),(0,l.useEffect)((()=>{let e=[];console.log(t),t&&null!==t&&(e=t.map(((e,t)=>({sno:(0,h.jsx)(A.Z,{color:"text",variant:"h6",fontSize:"16px",fontWeight:400,children:t+1}),distributor:(0,h.jsx)(D,{name:"".concat(e.name)}),action:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y.Z,{title:"Edit",placement:"top",children:(0,h.jsx)(w.Z,{color:"primary",type:"button",onClick:()=>o(e),children:(0,h.jsx)(S.D9l,{size:"24px"})})}),(0,h.jsx)(y.Z,{title:"Delete",placement:"top",children:(0,h.jsx)(w.Z,{color:"primary",type:"button",onClick:()=>s(e),children:(0,h.jsx)(S.IT9,{size:"24px"})})})]})})))),n(e)}),[t]),(0,h.jsx)(C.Z,{children:(0,h.jsxs)(b.Z,{sx:{minWidth:700,boxShadow:"none"},size:"small","aria-label":"customized table",children:[(0,h.jsx)(Z.Z,{children:(0,h.jsxs)(g.Z,{children:[(0,h.jsx)(O,{align:"left",children:"S.No"}),(0,h.jsx)(O,{align:"left",children:"Distributor"}),(0,h.jsx)(O,{align:"center",children:"Action"})]})}),(0,h.jsx)(j.Z,{children:r&&r.map((e=>(0,h.jsxs)(T,{children:[(0,h.jsx)(O,{component:"th",scope:"row",align:i[0].align,children:e.sno}),(0,h.jsx)(O,{align:i[1].align,children:e.distributor}),(0,h.jsx)(O,{align:i[2].align,children:e.action})]},e.distributor)))})]})})}var E=o(6151),z=o(5289),P=o(7123),k=o(9157),M=o(5661),I=o(4554),H=o(9012),R=o(6739),W=o(2506),q=o(1724);const V=q.Ry().shape({distributor:q.Z_().required("Distributor is required")});function L(e){let{isOpen:t,onClose:o,onCloseEmpty:l}=e;return(0,h.jsxs)(z.Z,{open:t,fullWidth:!0,children:[(0,h.jsx)(M.Z,{className:"flex justify-content-between",children:(0,h.jsxs)(I.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,h.jsx)(I.Z,{padding:"8px",fontSize:18,children:"Add Distributor"}),(0,h.jsx)(w.Z,{onClick:l,children:(0,h.jsx)(R.Z,{})})]})}),(0,h.jsx)(W.J9,{initialValues:{distributor:""},validationSchema:V,onSubmit:e=>{console.log(e),o(e)},children:e=>{let{handleSubmit:t,errors:o,touched:l,setFieldValue:s}=e;return(0,h.jsxs)(W.l0,{onSubmit:t,children:[(0,h.jsx)(k.Z,{children:(0,h.jsx)(H.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,h.jsx)(n.Z,{name:"distributor",label:"Distributor",variant:"outlined",error:l.distributor&&Boolean(o.distributor),helperText:l.distributor&&o.distributor,onChange:e=>{s("distributor",e.target.value)},focused:!0})})}),(0,h.jsx)(P.Z,{children:(0,h.jsx)(E.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}const N=q.Ry().shape({distributor:q.Z_().required("Distributor is required")});function F(e){let{isOpen:t,onClose:o,onCloseEmpty:l,editModalData:s}=e;const{name:r}=s,i={distributor:r};return(0,h.jsxs)(z.Z,{open:t,fullWidth:!0,children:[(0,h.jsx)(M.Z,{className:"flex justify-content-between",children:(0,h.jsxs)(I.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,h.jsx)(I.Z,{padding:"8px",fontSize:18,children:"Edit Distributor"}),(0,h.jsx)(w.Z,{onClick:l,children:(0,h.jsx)(R.Z,{})})]})}),(0,h.jsx)(W.J9,{initialValues:i,validationSchema:N,onSubmit:e=>{console.log(e),o(e)},children:e=>{let{values:t,handleSubmit:o,errors:l,touched:s,setFieldValue:r}=e;return(0,h.jsxs)(W.l0,{onSubmit:o,children:[(0,h.jsx)(k.Z,{children:(0,h.jsx)(H.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,h.jsx)(n.Z,{name:"distributor",label:"Distributor",variant:"outlined",error:s.distributor&&Boolean(l.distributor),helperText:s.distributor&&l.distributor,defaultValue:t.distributor,onChange:e=>{r("distributor",e.target.value)},focused:!0})})}),(0,h.jsx)(P.Z,{children:(0,h.jsx)(E.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}const B=q.Ry().shape({distributor:q.Z_().required("Distributor is required")});function G(e){let{isOpen:t,onClose:o,onCloseEmpty:l,editModalData:s}=e;const{name:r}=s,i={distributor:r};return(0,h.jsxs)(z.Z,{open:t,fullWidth:!0,children:[(0,h.jsx)(M.Z,{className:"flex justify-content-between",children:(0,h.jsxs)(I.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,h.jsx)(I.Z,{padding:"8px",fontSize:18,children:"Confirm Delete"}),(0,h.jsx)(w.Z,{onClick:l,children:(0,h.jsx)(R.Z,{})})]})}),(0,h.jsx)(W.J9,{initialValues:i,validationSchema:B,onSubmit:e=>{console.log(e),o(e)},children:e=>{let{values:t,handleSubmit:o,errors:l,touched:s}=e;return(0,h.jsxs)(W.l0,{onSubmit:o,children:[(0,h.jsx)(k.Z,{children:(0,h.jsx)(H.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,h.jsx)(n.Z,{name:"distributor",label:"Distributor",variant:"outlined",error:s.distributor&&Boolean(l.distributor),helperText:s.distributor&&l.distributor,defaultValue:t.distributor,disabled:!0})})}),(0,h.jsx)(P.Z,{children:(0,h.jsx)(E.Z,{type:"submit",color:"primary",children:"Delete"})})]})}})]})}var J=o(9504),U=o(4721),X=o(1979),_=o(1701);(0,X.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});const K=function(){console.log("In Distributor");const e=(0,p.Z)(),[t,o]=(0,l.useState)(!1),[x,b]=(0,l.useState)(!1),[j,m]=(0,l.useState)(""),[f,C]=(0,l.useState)({}),[Z,g]=(0,l.useState)(""),[D,O]=(0,l.useState)(!1),T=(0,i.I0)();(0,l.useLayoutEffect)((()=>{T(c.R.getAll())}),[]);const E=(0,i.v9)((e=>e.distributor.data)),z=(0,l.useMemo)((()=>{if(console.log(Z),""===Z.trim())return E;return E.filter((e=>e.name.toLowerCase().includes(Z.trim().toLowerCase())))}),[Z,E]),P=l.useRef(null),k=()=>{o(!1),m(""),C({})},M=(0,l.useCallback)((e=>{var t;console.log(e.target.value,P,P.current),null===(t=P.current)||void 0===t||t.focus(),g(e.target.value)}));return(0,h.jsxs)(_.Z,{theme:e,children:[(0,h.jsx)(d.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:x,children:(0,h.jsx)(u.Z,{color:"inherit"})}),t&&"add"===j?(0,h.jsx)(L,{isOpen:t,onClose:async e=>{b(!0),console.log(e);try{const t=await a.Z.post("".concat("http://127.0.0.1:5000","/distributor/submit-form"),{...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(t.data),o(!1),m(""),T(c.R.getAll()),b(!1)}catch(t){b(!1),console.error(t)}},onCloseEmpty:k}):null,t&&"edit"===j?(0,h.jsx)(F,{isOpen:t,onClose:async e=>{b(!0),console.log(e,f);try{const t=await a.Z.post("".concat("http://127.0.0.1:5000","/distributor/submit-edit-form"),{...f,...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(t.data),o(!1),m(""),C({}),T(c.R.getAll()),b(!1)}catch(t){b(!1),console.error(t)}},onCloseEmpty:k,editModalData:f}):null,t&&"delete"===j?(0,h.jsx)(G,{isOpen:t,onClose:async e=>{b(!0),console.log(e,f);try{const t=await a.Z.post("".concat("http://127.0.0.1:5000","/distributor/submit-delete-form"),{...f,...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(t.data),o(!1),m(""),C({}),T(c.R.getAll()),b(!1)}catch(t){b(!1),console.error(t)}},onCloseEmpty:k,editModalData:f}):null,(0,h.jsx)(s.ZP,{children:(0,h.jsxs)(r.Z,{sx:{boxShadow:"none"},children:[(0,h.jsx)(J.Z,{children:(0,h.jsxs)(s.ZP,{variant:"gradient",bgcolor:"info",borderRadius:"lg",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,h.jsx)(A.Z,{variant:"h3",fontWeight:500,color:"primary",children:"Distributor List"}),(0,h.jsxs)(s.ZP,{size:"small",component:"form",sx:{p:"2px 0px",display:"flex",alignItems:"center"},children:[D?(0,h.jsx)(n.Z,{sx:{ml:1,flex:1},size:"small",placeholder:"Search this table...",inputProps:{"aria-label":"search this table..."},autoFocus:!0,value:Z,onChange:M,variant:"standard",label:"Search"}):null,(0,h.jsx)(y.Z,{title:"Search...",placement:"top",children:(0,h.jsx)(w.Z,{color:"primary",type:"button","aria-label":"search",onClick:()=>{O((e=>!e))},children:(0,h.jsx)(S.jVj,{size:"24px"})})}),(0,h.jsx)(y.Z,{title:"Add Distributor",placement:"top",children:(0,h.jsx)(w.Z,{color:"secondary","aria-label":"delete",onClick:()=>{o(!0),m("add")},children:(0,h.jsx)(S.SC9,{size:"27px"})})})]})]})}),(0,h.jsx)(U.Z,{}),(0,h.jsx)(v,{filtereddata:z,onOpenEditModal:e=>{o(!0),m("edit"),C(e)},onOpenDeleteModal:e=>{o(!0),m("delete"),C(e)}})]})})]})}}}]);
//# sourceMappingURL=851.ab5b4522.chunk.js.map