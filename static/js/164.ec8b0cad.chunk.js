"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[164],{1164:(e,n,a)=>{a.r(n),a.d(n,{default:()=>K});var t=a(6934),s=a(1478),o=a(7588),r=a(4970),c=a(3721),l=a(3379),d=a(4554),i=a(890),p=a(68),m=a(3400),h=a(1889),u=(a(1243),a(2791)),x=a(9434),j=a(1894),g=a(8001),f=(a(8591),a(9717)),Z=(a(1065),a(3967)),b=a(3239),y=a(8745),I=a(618),C=a(5855),S=a(184);(0,t.ZP)(y.Z)((e=>{let{theme:n}=e;return{["&.".concat(I.Z.head)]:{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"},["&.".concat(I.Z.body)]:{fontSize:14}}})),(0,t.ZP)(C.Z)((e=>{let{theme:n}=e;return{"&:nth-of-type(odd)":{backgroundColor:n.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));a(3251),a(9747),a(1399),a(9997),a(2506);var v=a(1724);v.Ry().shape({series:v.Z_().required("Please select an option"),standard:v.Z_().required("Please select an option"),subject:v.Z_().required("Please select an option"),type:v.Z_().required("Please select an option"),onlineClasses:v.Z_().required("OnlineClasses is required")});v.Ry().shape({onlineClasses:v.Z_().required("OnlineClasses is required")});v.Ry().shape({onlineClasses:v.Z_().required("OnlineClasses is required")});v.Ry().shape({onlineClasses:v.Z_().required("OnlineClasses is required")});var _=a(5289),w=a(9157),k=a(5661),q=a(6739),P=a(3980);function N(e){let{isOpen:n,onCloseEmpty:a,editModalData:t}=e;return(0,S.jsxs)(_.Z,{open:n,fullWidth:!0,children:[(0,S.jsx)(k.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(d.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(d.Z,{padding:"8px",fontSize:18,children:"".concat(t.lessonIdName," (Part ").concat(t.partNo,") - ").concat(t.name)}),(0,S.jsx)(m.Z,{onClick:a,children:(0,S.jsx)(q.Z,{})})]})}),(0,S.jsx)(w.Z,{children:(0,S.jsx)(P.Z,{videoId:t.animationVideoId})})]})}var V=a(1979),z=a(1701),A=a(8956),E=a(6871),O=(a(616),a(7125)),L=a(9657),M=a(2521),R=a(9704),W=a.n(R),D=a(3854);(0,V.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});const F=(0,t.ZP)((e=>(0,S.jsx)(o.Z,{disableGutters:!0,elevation:0,square:!0,...e})))((e=>{let{theme:n}=e;return{border:"1px solid ".concat(n.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),T=(0,t.ZP)((e=>(0,S.jsx)(r.Z,{expandIcon:(0,S.jsx)(s.Z,{sx:{fontSize:"0.9rem"}}),...e})))((e=>{let{theme:n}=e;return{backgroundColor:"dark"===n.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}})),J=(0,t.ZP)(c.Z)((e=>{let{theme:n}=e;return{padding:n.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));const K=function(){(0,Z.Z)();const[e,n]=(0,u.useState)(0),[a,t]=(E.s0,(0,u.useState)(!1)),[s,o]=(0,u.useState)(!1),[r,c]=(0,u.useState)(""),[y,I]=(0,u.useState)({}),[C,v]=(0,u.useState)(""),[_,w]=(0,u.useState)(!1),[k,q]=(0,u.useState)(""),[P,V]=(0,u.useState)([]),R=(0,x.I0)();(0,u.useLayoutEffect)((()=>{o(!0),R(j.F.getAll()),R(g.v.getAll()),R(f.a.getAll());localStorage.getItem("access_token"),localStorage.getItem("refresh_token"),localStorage.getItem("userinfo_response"),localStorage.getItem("expiration_timestamp")}),[]);const K=(0,x.v9)((e=>e.lesson.data)),B=((0,x.v9)((e=>e.series.data)),(0,x.v9)((e=>e.animatedClasses.data))),G=localStorage.getItem("key_for_access"),U=function(e,n){const a=W().AES.decrypt(e,n).toString(W().enc.Utf8);return console.log(a),JSON.parse(a)}(localStorage.getItem("access_role_data"),G),H=U.role,[Q,X]=(0,u.useState)(B);(0,u.useEffect)((()=>{console.log(Q)}),[Q]),(0,u.useEffect)((()=>{if(console.log(B),B&&B.length>0){if(console.log(B),X(B),"school"===H){q(H),console.log(U);const e=U.school_series.split(", "),n=[];e.forEach((e=>{const[a,t]=e.split("|-|"),s=n.find((e=>e.id===parseInt(a)));s?s.standard.push(parseInt(t)):n.push({id:parseInt(a),standard:[parseInt(t)]})})),console.log(n),V(n);let a=B.filter((e=>n.some((n=>e.series_id===n.id)))).map((e=>{let a=e.data.filter((a=>n.some((n=>e.series_id===n.id&&n.standard.includes(a.standard_id)))));return{...e,data:a}}));console.log(B,n,a),X(a)}else if("student"===H){q(H),console.log(B,U);let e=B.map((e=>{const n=U.formatted_data.filter((n=>{const[a,t]=n.split("|-|");return e.series_id===parseInt(a)&&e.data.some((e=>e.standard_id===parseInt(t)))})),a=e.data.filter((e=>n.some((n=>{const[a,t]=n.split("|-|");return e.standard_id===parseInt(t)}))));return{...e,data:a}})).filter((e=>U.formatted_data.some((n=>{const[a]=n.split("|-|");return e.series_id===parseInt(a)}))));console.log(B,e),X(e)}o(!1)}}),[B]),(0,u.useMemo)((()=>{if(console.log(C),""===C.trim())return K;return K.filter((e=>(console.log(e,e.name,e.name.toLowerCase(),C),e.name.toLowerCase().includes(C.trim().toLowerCase()))))}),[C,K]);const Y=u.useRef(null),$=e=>{t(!0),c("video"),I(e)},[ee,ne]=((0,u.useCallback)((e=>{var n;console.log(e.target.value,Y,Y.current),null===(n=Y.current)||void 0===n||n.focus(),v(e.target.value)})),(0,u.useState)(!1)),[ae,te]=(0,u.useState)(!1),[se,oe]=(0,u.useState)(!1),[re,ce]=(0,u.useState)(!1),[le,de]=(0,u.useState)(!1),ie=e=>(n,a)=>{te(!!a&&e),oe(!1),ce(!1),de(!1)},pe=e=>(n,a)=>{oe(!!a&&e),ce(!1),de(!1)},me=e=>(n,a)=>{ce(!!a&&e),de(!1)},he=e=>(n,a)=>{de(!!a&&e)};function ue(e){let n=null;const a=e.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?/]+)/);return a&&(n=a[1]),n}return(0,S.jsxs)(z.Z,{children:[(0,S.jsx)(l.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:s,children:(0,S.jsx)(b.Z,{color:"inherit"})}),!s&&(0,S.jsxs)(S.Fragment,{children:[a&&"video"===r?(0,S.jsx)(N,{isOpen:a,onCloseEmpty:()=>{t(!1),c(""),I({})},editModalData:y}):null,"other"===H?(0,S.jsx)(d.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:Q&&Q.length>0&&Q.map(((e,n)=>{return(0,S.jsxs)(F,{expanded:ee==="panelseries".concat(n+1),onChange:(a="panelseries".concat(n+1),(e,n)=>{ne(!!n&&a),te(!1),oe(!1),ce(!1),de(!1)}),children:[(0,S.jsx)(T,{"aria-controls":"panelseries".concat(n+1,"d-content"),id:"panelseries".concat(n+1,"d-header"),children:(0,S.jsx)(i.Z,{children:"Whiz Kid"===e.name?(0,S.jsx)("img",{src:O,width:100}):"Smart Learn"===e.name?(0,S.jsx)("img",{src:L,width:100}):(0,S.jsx)("img",{src:M,width:100})})}),(0,S.jsx)(J,{children:e.data.length>0&&e.data.map(((a,t)=>(0,S.jsxs)(F,{expanded:ae==="panelstandard".concat(n+t+1),onChange:ie("panelstandard".concat(n+t+1)),children:[(0,S.jsx)(T,{"aria-controls":"panelstandard".concat(n+t+1,"d-content"),id:"panelstandard".concat(n+t+1,"d-header"),children:(0,S.jsx)(i.Z,{children:a.name})}),(0,S.jsx)(J,{children:a.data.length>0&&a.data.map(((a,s)=>(0,S.jsxs)(F,{expanded:se==="panelsubject".concat(n+t+s+1),onChange:pe("panelsubject".concat(n+t+s+1)),children:[(0,S.jsx)(T,{"aria-controls":"panelsubject".concat(n+t+s+1,"d-content"),id:"panelsubject".concat(n+t+s+1,"d-header"),children:(0,S.jsx)(i.Z,{children:a.name})}),(0,S.jsx)(J,{children:a.data.length>0&&a.data.map(((a,o)=>(0,S.jsxs)(F,{expanded:re==="panellesson".concat(n+t+s+o+1),onChange:me("panellesson".concat(n+t+s+o+1)),children:[(0,S.jsx)(T,{"aria-controls":"panellesson".concat(n+t+s+o+1,"d-content"),id:"panellesson".concat(n+t+s+o+1,"d-header"),children:(0,S.jsx)(i.Z,{children:a.name})}),(0,S.jsx)(J,{children:a.parts.length>0&&a.parts.map(((r,c)=>(0,S.jsxs)(F,{expanded:le==="panelparts".concat(n+t+s+o+c+1),onChange:he("panelparts".concat(n+t+s+o+c+1)),children:[(0,S.jsx)(T,{"aria-controls":"panelparts".concat(n+t+s+o+c+1,"d-content"),id:"panelparts".concat(n+t+s+o+c+1,"d-header"),children:(0,S.jsx)(i.Z,{children:r.name})}),(0,S.jsx)(J,{children:r.animationVideoId?(0,S.jsx)(p.Z,{title:"Animation Video",placement:"top",className:r.animationVideoId,children:(0,S.jsx)(m.Z,{color:"primary",type:"button",onClick:()=>$({...e,videoType:"animation",lessonIdName:a.name,name:r.name,partNo:r.partNo,animationVideoId:ue(r.animationVideoId)}),children:(0,S.jsx)(A.OiJ,{size:"24px"})})}):null})]},"panelparts".concat(n+t+s+o+c+1))))})]},"panellesson".concat(n+t+s+o+1))))})]},"panelsubject".concat(n+t+s+1))))})]},"panelstandard".concat(n+t+1))))})]},"panelseries".concat(n+1));var a}))}):(0,S.jsx)(d.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:Q&&Q.length>0&&Q.map(((e,n)=>(0,S.jsx)(J,{children:e.data.length>0&&e.data.map(((a,t)=>(0,S.jsxs)(F,{expanded:ae==="panelstandard".concat(e.name+a.name+n+t+1),onChange:ie("panelstandard".concat(e.name+a.name+n+t+1)),children:[(0,S.jsx)(T,{"aria-controls":"panelstandard".concat(e.name+a.name+n+t+1,"d-content"),id:"panelstandard".concat(e.name+a.name+n+t+1,"d-header"),children:(0,S.jsxs)(d.Z,{children:[(0,S.jsxs)(i.Z,{children:["Whiz Kid"===e.name?(0,S.jsx)("img",{src:O,width:100}):"Smart Learn"===e.name?(0,S.jsx)("img",{src:L,width:100}):(0,S.jsx)("img",{src:M,width:100})," "]}),(0,S.jsx)(i.Z,{children:(0,S.jsxs)("span",{style:{fontFamily:"sans-serif",fontWeight:"bold",fontSize:"20px"},children:[a.name," Class"]})})]})}),(0,S.jsx)(J,{children:a.data.length>0&&a.data.map(((s,o)=>(0,S.jsxs)(F,{expanded:se==="panelsubject".concat(e.name+a.name+s.name+n+t+o+1),onChange:pe("panelsubject".concat(e.name+a.name+s.name+n+t+o+1)),children:[(0,S.jsx)(T,{"aria-controls":"panelsubject".concat(e.name+a.name+s.name+n+t+o+1,"d-content"),id:"panelsubject".concat(e.name+a.name+s.name+n+t+o+1,"d-header"),children:(0,S.jsx)(i.Z,{children:s.name})}),(0,S.jsx)(J,{children:s.data.length>0&&s.data.map(((r,c)=>(0,S.jsxs)(F,{expanded:re==="panellesson".concat(e.name+a.name+s.name+r.name+n+t+o+c+1),onChange:me("panellesson".concat(e.name+a.name+s.name+r.name+n+t+o+c+1)),children:[(0,S.jsx)(T,{"aria-controls":"panellesson".concat(e.name+a.name+s.name+r.name+n+t+o+c+1,"d-content"),id:"panellesson".concat(e.name+a.name+s.name+r.name+n+t+o+c+1,"d-header"),children:(0,S.jsx)(i.Z,{children:r.name})}),(0,S.jsx)(J,{children:(0,S.jsx)(h.ZP,{container:!0,spacing:2,children:r.parts.length>0&&r.parts.map(((n,a)=>n.animationVideoId&&(0,S.jsx)(h.ZP,{item:!0,xs:4,sm:4,md:2,children:(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(p.Z,{title:"Animation Video",placement:"top",className:n.animationVideoId,children:(0,S.jsxs)(m.Z,{color:"error",type:"button",onClick:()=>$({...e,videoType:"animation",lessonIdName:r.name,name:n.name,partNo:n.partNo,animationVideoId:ue(n.animationVideoId)}),children:[(0,S.jsx)(D.Z,{sx:{cursor:"pointer"}})," "]})}),(0,S.jsxs)(i.Z,{children:["Part ",a+1]})]})})))})})]},"panellesson".concat(e.name+a.name+s.name+r.name+n+t+o+c+1))))})]},"panelsubject".concat(n+t+o+1))))})]},"panelstandard".concat(n+t+1))))})))})]})]})}},3980:(e,n,a)=>{a.d(n,{Z:()=>r});var t=a(2791),s=a(5036),o=(a(6054),a(184));const r=e=>{let{videoId:n}=e;const a=(0,t.useRef)();(0,t.useEffect)((()=>{a.current&&a.current.plyr&&a.current.plyr.play()}),[]);const r={type:"video",sources:[{src:n,provider:"youtube"}]};return(0,o.jsx)(s.Z,{source:r,ref:a,options:{autoplay:!0}})}},2521:(e,n,a)=>{e.exports=a.p+"static/media/globalsmart.9a3b57e2f19273329020.png"},9657:(e,n,a)=>{e.exports=a.p+"static/media/smartlearn.b88014c56d830e8c0b03.png"},7125:(e,n,a)=>{e.exports=a.p+"static/media/whizkid.e0fd82f422b08cb0f651.png"}}]);
//# sourceMappingURL=164.ec8b0cad.chunk.js.map