"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[969],{61969:function(e,n,a){a.r(n),a.d(n,{default:function(){return U}});a(74165),a(15861);var t=a(29439),r=a(1413),s=a(66934),o=a(91478),c=a(97581),i=a(55818),l=a(3721),d=a(83379),u=a(64554),p=a(20890),m=a(20068),f=a(13400),h=a(61889),x=(a(31243),a(72791)),Z=a(59434),j=a(81894),g=a(68001),v=(a(38591),a(41399)),b=(a(1065),a(13967)),y=a(13239),C=a(4942),I=a(68745),S=a(90618),_=a(35855),w=a(80184);(0,s.ZP)(I.Z)((function(e){var n;e.theme;return n={},(0,C.Z)(n,"&.".concat(S.Z.head),{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"}),(0,C.Z)(n,"&.".concat(S.Z.body),{fontSize:14}),n})),(0,s.ZP)(_.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));a(93251),a(69747),a(99997),a(92506);var k=a(77942);k.Ry().shape({series:k.Z_().required("Please select an option"),standard:k.Z_().required("Please select an option"),subject:k.Z_().required("Please select an option"),type:k.Z_().required("Please select an option"),onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});var q=a(5289),P=a(39157),N=a(65661),z=a(96739),V=a(73980);function L(e){var n=e.isOpen,a=e.onCloseEmpty,t=e.editModalData;return(0,w.jsxs)(q.Z,{open:n,fullWidth:!0,children:[(0,w.jsx)(N.Z,{className:"flex justify-content-between",children:(0,w.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,w.jsx)(u.Z,{padding:"8px",fontSize:18,children:"".concat(t.lessonIdName," (Part ").concat(t.partNo,") - ").concat(t.name)}),(0,w.jsx)(f.Z,{onClick:a,children:(0,w.jsx)(z.Z,{})})]})}),(0,w.jsx)(P.Z,{children:(0,w.jsx)(V.Z,{videoId:t.liveVideoId})})]})}var E=a(61979),O=a(1701),A=a(58956),M=a(16871),R=(a(80616),a(77125)),W=a(49657),D=a(52521),F=a(89704),T=a.n(F),J=a(83854);(0,E.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});var K=(0,s.ZP)((function(e){return(0,w.jsx)(c.Z,(0,r.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var n=e.theme;return{border:"1px solid ".concat(n.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),B=(0,s.ZP)((function(e){return(0,w.jsx)(i.Z,(0,r.Z)({expandIcon:(0,w.jsx)(o.Z,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var n=e.theme;return{backgroundColor:"dark"===n.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}})),G=(0,s.ZP)(l.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));var U=function(){(0,b.Z)();var e=(0,x.useState)(0),n=(0,t.Z)(e,2),a=(n[0],n[1],M.s0,(0,x.useState)(!1)),s=(0,t.Z)(a,2),o=s[0],c=s[1],i=(0,x.useState)(!1),l=(0,t.Z)(i,2),C=l[0],I=l[1],S=(0,x.useState)(""),_=(0,t.Z)(S,2),k=_[0],q=_[1],P=(0,x.useState)({}),N=(0,t.Z)(P,2),z=N[0],V=N[1],E=(0,x.useState)(""),F=(0,t.Z)(E,2),U=F[0],H=F[1],Q=(0,x.useState)(!1),X=(0,t.Z)(Q,2),Y=(X[0],X[1],(0,x.useState)("")),$=(0,t.Z)(Y,2),ee=($[0],$[1]),ne=(0,x.useState)([]),ae=(0,t.Z)(ne,2),te=(ae[0],ae[1]),re=(0,Z.I0)();(0,x.useLayoutEffect)((function(){I(!0),re(j.F.getAll()),re(g.v.getAll()),re(v.k.getAll());localStorage.getItem("access_token"),localStorage.getItem("refresh_token"),localStorage.getItem("userinfo_response"),localStorage.getItem("expiration_timestamp")}),[]);var se=(0,Z.v9)((function(e){return e.lesson.data})),oe=((0,Z.v9)((function(e){return e.series.data})),(0,Z.v9)((function(e){return e.onlineClasses.data}))),ce=localStorage.getItem("key_for_access"),ie=function(e,n){var a=T().AES.decrypt(e,n).toString(T().enc.Utf8);return console.log(a),JSON.parse(a)}(localStorage.getItem("access_role_data"),ce),le=ie.role,de=(0,x.useState)(oe),ue=(0,t.Z)(de,2),pe=ue[0],me=ue[1];(0,x.useEffect)((function(){console.log(pe)}),[pe]),(0,x.useEffect)((function(){if(console.log(oe),oe&&oe.length>0){if(console.log(oe),me(oe),"school"===le){ee(le),console.log(ie);var e=ie.school_series.split(", "),n=[];e.forEach((function(e){var a=e.split("|-|"),r=(0,t.Z)(a,2),s=r[0],o=r[1],c=n.find((function(e){return e.id===parseInt(s)}));c?c.standard.push(parseInt(o)):n.push({id:parseInt(s),standard:[parseInt(o)]})})),console.log(n),te(n);var a=oe.filter((function(e){return n.some((function(n){return e.series_id===n.id}))})).map((function(e){var a=e.data.filter((function(a){return n.some((function(n){return e.series_id===n.id&&n.standard.includes(a.standard_id)}))}));return(0,r.Z)((0,r.Z)({},e),{},{data:a})}));console.log(oe,n,a),me(a)}else if("student"===le){ee(le),console.log(oe,ie);var s=oe.map((function(e){var n=ie.formatted_data.filter((function(n){var a=n.split("|-|"),r=(0,t.Z)(a,2),s=r[0],o=r[1];return e.series_id===parseInt(s)&&e.data.some((function(e){return e.standard_id===parseInt(o)}))})),a=e.data.filter((function(e){return n.some((function(n){var a=n.split("|-|"),r=(0,t.Z)(a,2),s=(r[0],r[1]);return e.standard_id===parseInt(s)}))}));return(0,r.Z)((0,r.Z)({},e),{},{data:a})})).filter((function(e){return ie.formatted_data.some((function(n){var a=n.split("|-|"),r=(0,t.Z)(a,1)[0];return e.series_id===parseInt(r)}))}));console.log(oe,s),me(s)}I(!1)}}),[oe]),(0,x.useMemo)((function(){return console.log(U),""===U.trim()?se:se.filter((function(e){return console.log(e,e.name,e.name.toLowerCase(),U),e.name.toLowerCase().includes(U.trim().toLowerCase())}))}),[U,se]);var fe=x.useRef(null),he=function(e){c(!0),q("video"),V(e)},xe=((0,x.useCallback)((function(e){var n;console.log(e.target.value,fe,fe.current),null===(n=fe.current)||void 0===n||n.focus(),H(e.target.value)})),(0,x.useState)(!1)),Ze=(0,t.Z)(xe,2),je=Ze[0],ge=Ze[1],ve=(0,x.useState)(!1),be=(0,t.Z)(ve,2),ye=be[0],Ce=be[1],Ie=(0,x.useState)(!1),Se=(0,t.Z)(Ie,2),_e=Se[0],we=Se[1],ke=(0,x.useState)(!1),qe=(0,t.Z)(ke,2),Pe=qe[0],Ne=qe[1],ze=(0,x.useState)(!1),Ve=(0,t.Z)(ze,2),Le=Ve[0],Ee=Ve[1],Oe=function(e){return function(n,a){Ce(!!a&&e),we(!1),Ne(!1),Ee(!1)}},Ae=function(e){return function(n,a){we(!!a&&e),Ne(!1),Ee(!1)}},Me=function(e){return function(n,a){Ne(!!a&&e),Ee(!1)}},Re=function(e){return function(n,a){Ee(!!a&&e)}};function We(e){var n=null,a=e.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?/]+)/);return a&&(n=a[1]),n}return(0,w.jsxs)(O.Z,{children:[(0,w.jsx)(d.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:C,children:(0,w.jsx)(y.Z,{color:"inherit"})}),!C&&(0,w.jsxs)(w.Fragment,{children:[o&&"video"===k?(0,w.jsx)(L,{isOpen:o,onCloseEmpty:function(){c(!1),q(""),V({})},editModalData:z}):null,"other"===le?(0,w.jsx)(u.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:pe&&pe.length>0&&pe.map((function(e,n){return(0,w.jsxs)(K,{expanded:je==="panelseries".concat(n+1),onChange:(a="panelseries".concat(n+1),function(e,n){ge(!!n&&a),Ce(!1),we(!1),Ne(!1),Ee(!1)}),children:[(0,w.jsx)(B,{"aria-controls":"panelseries".concat(n+1,"d-content"),id:"panelseries".concat(n+1,"d-header"),children:(0,w.jsx)(p.Z,{children:"Whiz Kid"===e.name?(0,w.jsx)("img",{src:R,width:100}):"Smart Learn"===e.name?(0,w.jsx)("img",{src:W,width:100}):(0,w.jsx)("img",{src:D,width:100})})}),(0,w.jsx)(G,{children:e.data.length>0&&e.data.map((function(a,t){return(0,w.jsxs)(K,{expanded:ye==="panelstandard".concat(n+t+1),onChange:Oe("panelstandard".concat(n+t+1)),children:[(0,w.jsx)(B,{"aria-controls":"panelstandard".concat(n+t+1,"d-content"),id:"panelstandard".concat(n+t+1,"d-header"),children:(0,w.jsx)(p.Z,{children:a.name})}),(0,w.jsx)(G,{children:a.data.length>0&&a.data.map((function(a,s){return(0,w.jsxs)(K,{expanded:_e==="panelsubject".concat(n+t+s+1),onChange:Ae("panelsubject".concat(n+t+s+1)),children:[(0,w.jsx)(B,{"aria-controls":"panelsubject".concat(n+t+s+1,"d-content"),id:"panelsubject".concat(n+t+s+1,"d-header"),children:(0,w.jsx)(p.Z,{children:a.name})}),(0,w.jsx)(G,{children:a.data.length>0&&a.data.map((function(a,o){return(0,w.jsxs)(K,{expanded:Pe==="panellesson".concat(n+t+s+o+1),onChange:Me("panellesson".concat(n+t+s+o+1)),children:[(0,w.jsx)(B,{"aria-controls":"panellesson".concat(n+t+s+o+1,"d-content"),id:"panellesson".concat(n+t+s+o+1,"d-header"),children:(0,w.jsx)(p.Z,{children:a.name})}),(0,w.jsx)(G,{children:a.parts.length>0&&a.parts.map((function(c,i){return(0,w.jsxs)(K,{expanded:Le==="panelparts".concat(n+t+s+o+i+1),onChange:Re("panelparts".concat(n+t+s+o+i+1)),children:[(0,w.jsx)(B,{"aria-controls":"panelparts".concat(n+t+s+o+i+1,"d-content"),id:"panelparts".concat(n+t+s+o+i+1,"d-header"),children:(0,w.jsx)(p.Z,{children:c.name})}),(0,w.jsx)(G,{children:c.liveVideoId?(0,w.jsx)(m.Z,{title:"Live Video",placement:"top",className:c.liveVideoId,children:(0,w.jsx)(f.Z,{color:"primary",type:"button",onClick:function(){return he((0,r.Z)((0,r.Z)({},e),{},{videoType:"live",lessonIdName:a.name,name:c.name,partNo:c.partNo,liveVideoId:We(c.liveVideoId)}))},children:(0,w.jsx)(A.OiJ,{size:"24px"})})}):null})]},"panelparts".concat(n+t+s+o+i+1))}))})]},"panellesson".concat(n+t+s+o+1))}))})]},"panelsubject".concat(n+t+s+1))}))})]},"panelstandard".concat(n+t+1))}))})]},"panelseries".concat(n+1));var a}))}):(0,w.jsx)(u.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:pe&&pe.length>0&&pe.map((function(e,n){return(0,w.jsx)(G,{children:e.data.length>0&&e.data.map((function(a,t){return(0,w.jsxs)(K,{expanded:ye==="panelstandard".concat(e.name+a.name+n+t+1),onChange:Oe("panelstandard".concat(e.name+a.name+n+t+1)),children:[(0,w.jsx)(B,{"aria-controls":"panelstandard".concat(e.name+a.name+n+t+1,"d-content"),id:"panelstandard".concat(e.name+a.name+n+t+1,"d-header"),children:(0,w.jsxs)(u.Z,{children:[(0,w.jsxs)(p.Z,{children:["Whiz Kid"===e.name?(0,w.jsx)("img",{src:R,width:100}):"Smart Learn"===e.name?(0,w.jsx)("img",{src:W,width:100}):(0,w.jsx)("img",{src:D,width:100})," "]}),(0,w.jsx)(p.Z,{children:(0,w.jsxs)("span",{style:{fontFamily:"sans-serif",fontWeight:"bold",fontSize:"20px"},children:[a.name," Class"]})})]})}),(0,w.jsx)(G,{children:a.data.length>0&&a.data.map((function(s,o){return(0,w.jsxs)(K,{expanded:_e==="panelsubject".concat(e.name+a.name+s.name+n+t+o+1),onChange:Ae("panelsubject".concat(e.name+a.name+s.name+n+t+o+1)),children:[(0,w.jsx)(B,{"aria-controls":"panelsubject".concat(e.name+a.name+s.name+n+t+o+1,"d-content"),id:"panelsubject".concat(e.name+a.name+s.name+n+t+o+1,"d-header"),children:(0,w.jsx)(p.Z,{children:s.name})}),(0,w.jsx)(G,{children:s.data.length>0&&s.data.map((function(c,i){return(0,w.jsxs)(K,{expanded:Pe==="panellesson".concat(e.name+a.name+s.name+c.name+n+t+o+i+1),onChange:Me("panellesson".concat(e.name+a.name+s.name+c.name+n+t+o+i+1)),children:[(0,w.jsx)(B,{"aria-controls":"panellesson".concat(e.name+a.name+s.name+c.name+n+t+o+i+1,"d-content"),id:"panellesson".concat(e.name+a.name+s.name+c.name+n+t+o+i+1,"d-header"),children:(0,w.jsx)(p.Z,{children:c.name})}),(0,w.jsx)(G,{children:(0,w.jsx)(h.ZP,{container:!0,spacing:2,children:c.parts.length>0&&c.parts.map((function(n,a){return(0,w.jsx)(h.ZP,{item:!0,xs:4,sm:4,md:2,children:(0,w.jsxs)(u.Z,{children:[(0,w.jsx)(m.Z,{title:"Live Video",placement:"top",className:n.liveVideoId,children:(0,w.jsxs)(f.Z,{color:"error",type:"button",onClick:function(){return he((0,r.Z)((0,r.Z)({},e),{},{videoType:"live",lessonIdName:c.name,name:n.name,partNo:n.partNo,liveVideoId:We(n.liveVideoId)}))},children:[(0,w.jsx)(J.Z,{sx:{cursor:"pointer"}})," "]})}),(0,w.jsxs)(p.Z,{children:["Part ",a+1]})]})})}))})})]},"panellesson".concat(e.name+a.name+s.name+c.name+n+t+o+i+1))}))})]},"panelsubject".concat(n+t+o+1))}))})]},"panelstandard".concat(n+t+1))}))})}))})]})]})}},73980:function(e,n,a){var t=a(72791),r=a(85036),s=(a(86054),a(80184));n.Z=function(e){var n=e.videoId,a=(0,t.useRef)();(0,t.useEffect)((function(){a.current&&a.current.plyr&&a.current.plyr.play()}),[]);var o={type:"video",sources:[{src:n,provider:"youtube"}]};return(0,s.jsx)(r.Z,{source:o,ref:a,options:{autoplay:!0}})}},52521:function(e,n,a){e.exports=a.p+"static/media/globalsmart.9a3b57e2f19273329020.png"},49657:function(e,n,a){e.exports=a.p+"static/media/smartlearn.b88014c56d830e8c0b03.png"},77125:function(e,n,a){e.exports=a.p+"static/media/whizkid.e0fd82f422b08cb0f651.png"}}]);
//# sourceMappingURL=969.478cebe6.chunk.js.map