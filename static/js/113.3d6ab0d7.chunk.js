"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[113],{4685:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});t(4165),t(5861);var a=t(9439),r=t(1413),o=t(6934),s=t(1478),c=t(7581),i=t(4970),l=t(3721),d=t(3379),u=t(4554),p=t(890),f=t(68),h=t(3400),m=(t(1243),t(2791)),Z=t(9434),x=t(1894),g=t(8001),v=(t(8591),t(1399)),j=(t(1065),t(3967)),b=t(3239),y=t(4942),C=t(8745),S=t(618),I=t(5855),_=t(184);(0,o.ZP)(C.Z)((function(e){var n;e.theme;return n={},(0,y.Z)(n,"&.".concat(S.Z.head),{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"}),(0,y.Z)(n,"&.".concat(S.Z.body),{fontSize:14}),n})),(0,o.ZP)(I.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));t(3251),t(9747),t(9997),t(2506);var k=t(7942);k.Ry().shape({series:k.Z_().required("Please select an option"),standard:k.Z_().required("Please select an option"),subject:k.Z_().required("Please select an option"),type:k.Z_().required("Please select an option"),onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});k.Ry().shape({onlineClasses:k.Z_().required("OnlineClasses is required")});var w=t(5289),q=t(9157),P=t(5661),z=t(6739),N=t(3980);function O(e){var n=e.isOpen,t=e.onCloseEmpty,a=e.editModalData;return(0,_.jsxs)(w.Z,{open:n,fullWidth:!0,children:[(0,_.jsx)(P.Z,{className:"flex justify-content-between",children:(0,_.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,_.jsx)(u.Z,{padding:"8px",fontSize:18,children:"".concat(a.lessonIdName," (Part ").concat(a.partNo,") - ").concat(a.name)}),(0,_.jsx)(h.Z,{onClick:t,children:(0,_.jsx)(z.Z,{})})]})}),(0,_.jsx)(q.Z,{children:(0,_.jsx)(N.Z,{videoId:a.liveVideoId})})]})}var E=t(1979),L=t(1701),M=t(8956),R=t(6871),V=(t(616),t.p+"static/media/whizkid.e0fd82f422b08cb0f651.png"),A=t.p+"static/media/smartlearn.b88014c56d830e8c0b03.png",D=t.p+"static/media/globalsmart.9a3b57e2f19273329020.png";(0,E.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});var W=(0,o.ZP)((function(e){return(0,_.jsx)(c.Z,(0,r.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var n=e.theme;return{border:"1px solid ".concat(n.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),J=(0,o.ZP)((function(e){return(0,_.jsx)(i.Z,(0,r.Z)({expandIcon:(0,_.jsx)(s.Z,{sx:{fontSize:"0.9rem"}})},e))}))((function(e){var n=e.theme;return{backgroundColor:"dark"===n.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}})),T=(0,o.ZP)(l.Z)((function(e){return{padding:e.theme.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));var B=function(){(0,j.Z)();var e=(0,m.useState)(0),n=(0,a.Z)(e,2),t=(n[0],n[1],R.s0,(0,m.useState)(!1)),o=(0,a.Z)(t,2),s=o[0],c=o[1],i=(0,m.useState)(!1),l=(0,a.Z)(i,2),y=l[0],C=l[1],S=(0,m.useState)(""),I=(0,a.Z)(S,2),k=I[0],w=I[1],q=(0,m.useState)({}),P=(0,a.Z)(q,2),z=P[0],N=P[1],E=(0,m.useState)(""),B=(0,a.Z)(E,2),F=B[0],G=B[1],K=(0,m.useState)(!1),H=(0,a.Z)(K,2),Q=(H[0],H[1],(0,m.useState)("")),U=(0,a.Z)(Q,2),X=(U[0],U[1]),Y=(0,m.useState)([]),$=(0,a.Z)(Y,2),ee=($[0],$[1]),ne=(0,Z.I0)();(0,m.useLayoutEffect)((function(){C(!0),ne(x.F.getAll()),ne(g.v.getAll()),ne(v.k.getAll());localStorage.getItem("access_token"),localStorage.getItem("refresh_token"),localStorage.getItem("userinfo_response"),localStorage.getItem("expiration_timestamp")}),[]);var te=(0,Z.v9)((function(e){return e.lesson.data})),ae=((0,Z.v9)((function(e){return e.series.data})),(0,Z.v9)((function(e){return e.onlineClasses.data}))),re=(0,m.useState)(ae),oe=(0,a.Z)(re,2),se=oe[0],ce=oe[1];(0,m.useEffect)((function(){console.log(se)}),[se]),(0,m.useEffect)((function(){if(console.log(ae),ae&&ae.length>0){console.log(ae),ce(ae);var e=localStorage.getItem("access_role");if("school"===e){X(e);var n=JSON.parse(localStorage.getItem("access_role_data")).school_series.split(", "),t=[];n.forEach((function(e){var n=e.split("|-|"),r=(0,a.Z)(n,2),o=r[0],s=r[1],c=t.find((function(e){return e.id===parseInt(o)}));c?c.standard.push(parseInt(s)):t.push({id:parseInt(o),standard:[parseInt(s)]})})),console.log(t),ee(t);var o=ae.filter((function(e){return t.some((function(n){return e.series_id===n.id}))})).map((function(e){var n=e.data.filter((function(n){return t.some((function(t){return e.series_id===t.id&&t.standard.includes(n.standard_id)}))}));return(0,r.Z)((0,r.Z)({},e),{},{data:n})}));console.log(ae,t,o),ce(o)}C(!1)}}),[ae]),(0,m.useMemo)((function(){return console.log(F),""===F.trim()?te:te.filter((function(e){return console.log(e,e.name,e.name.toLowerCase(),F),e.name.toLowerCase().includes(F.trim().toLowerCase())}))}),[F,te]);var ie=m.useRef(null),le=((0,m.useCallback)((function(e){var n;console.log(e.target.value,ie,ie.current),null===(n=ie.current)||void 0===n||n.focus(),G(e.target.value)})),(0,m.useState)(!1)),de=(0,a.Z)(le,2),ue=de[0],pe=de[1],fe=(0,m.useState)(!1),he=(0,a.Z)(fe,2),me=he[0],Ze=he[1],xe=(0,m.useState)(!1),ge=(0,a.Z)(xe,2),ve=ge[0],je=ge[1],be=(0,m.useState)(!1),ye=(0,a.Z)(be,2),Ce=ye[0],Se=ye[1],Ie=(0,m.useState)(!1),_e=(0,a.Z)(Ie,2),ke=_e[0],we=_e[1],qe=function(e){return function(n,t){Ze(!!t&&e),je(!1),Se(!1),we(!1)}},Pe=function(e){return function(n,t){je(!!t&&e),Se(!1),we(!1)}},ze=function(e){return function(n,t){Se(!!t&&e),we(!1)}},Ne=function(e){return function(n,t){we(!!t&&e)}};function Oe(e){var n=null,t=e.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?/]+)/);return t&&(n=t[1]),n}return(0,_.jsxs)(L.Z,{children:[(0,_.jsx)(d.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:y,children:(0,_.jsx)(b.Z,{color:"inherit"})}),s&&"video"===k?(0,_.jsx)(O,{isOpen:s,onCloseEmpty:function(){c(!1),w(""),N({})},editModalData:z}):null,(0,_.jsx)(u.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:se&&se.length>0&&se.map((function(e,n){return(0,_.jsxs)(W,{expanded:ue==="panelseries".concat(n+1),onChange:(t="panelseries".concat(n+1),function(e,n){pe(!!n&&t),Ze(!1),je(!1),Se(!1),we(!1)}),children:[(0,_.jsx)(J,{"aria-controls":"panelseries".concat(n+1,"d-content"),id:"panelseries".concat(n+1,"d-header"),children:(0,_.jsx)(p.Z,{children:"Whiz Kid"===e.name?(0,_.jsx)("img",{src:V,width:100}):"Smart Learn"===e.name?(0,_.jsx)("img",{src:A,width:100}):(0,_.jsx)("img",{src:D,width:100})})}),(0,_.jsx)(T,{children:e.data.length>0&&e.data.map((function(t,a){return(0,_.jsxs)(W,{expanded:me==="panelstandard".concat(n+a+1),onChange:qe("panelstandard".concat(n+a+1)),children:[(0,_.jsx)(J,{"aria-controls":"panelstandard".concat(n+a+1,"d-content"),id:"panelstandard".concat(n+a+1,"d-header"),children:(0,_.jsx)(p.Z,{children:t.name})}),(0,_.jsx)(T,{children:t.data.length>0&&t.data.map((function(t,o){return(0,_.jsxs)(W,{expanded:ve==="panelsubject".concat(n+a+o+1),onChange:Pe("panelsubject".concat(n+a+o+1)),children:[(0,_.jsx)(J,{"aria-controls":"panelsubject".concat(n+a+o+1,"d-content"),id:"panelsubject".concat(n+a+o+1,"d-header"),children:(0,_.jsx)(p.Z,{children:t.name})}),(0,_.jsx)(T,{children:t.data.length>0&&t.data.map((function(t,s){return(0,_.jsxs)(W,{expanded:Ce==="panellesson".concat(n+a+o+s+1),onChange:ze("panellesson".concat(n+a+o+s+1)),children:[(0,_.jsx)(J,{"aria-controls":"panellesson".concat(n+a+o+s+1,"d-content"),id:"panellesson".concat(n+a+o+s+1,"d-header"),children:(0,_.jsx)(p.Z,{children:t.name})}),(0,_.jsx)(T,{children:t.parts.length>0&&t.parts.map((function(i,l){return(0,_.jsxs)(W,{expanded:ke==="panelparts".concat(n+a+o+s+l+1),onChange:Ne("panelparts".concat(n+a+o+s+l+1)),children:[(0,_.jsx)(J,{"aria-controls":"panelparts".concat(n+a+o+s+l+1,"d-content"),id:"panelparts".concat(n+a+o+s+l+1,"d-header"),children:(0,_.jsx)(p.Z,{children:i.name})}),(0,_.jsx)(T,{children:i.liveVideoId?(0,_.jsx)(f.Z,{title:"Live Video",placement:"top",className:i.liveVideoId,children:(0,_.jsx)(h.Z,{color:"primary",type:"button",onClick:function(){return n=(0,r.Z)((0,r.Z)({},e),{},{videoType:"live",lessonIdName:t.name,name:i.name,partNo:i.partNo,liveVideoId:Oe(i.liveVideoId)}),c(!0),w("video"),void N(n);var n},children:(0,_.jsx)(M.OiJ,{size:"24px"})})}):null})]},"panelparts".concat(n+a+o+s+l+1))}))})]},"panellesson".concat(n+a+o+s+1))}))})]},"panelsubject".concat(n+a+o+1))}))})]},"panelstandard".concat(n+a+1))}))})]},"panelseries".concat(n+1));var t}))})]})}},3980:function(e,n,t){var a=t(2791),r=t(1055),o=(t(6054),t(184));n.Z=function(e){var n=e.videoId,t=(0,a.useRef)();(0,a.useEffect)((function(){t.current&&t.current.plyr&&t.current.plyr.play()}),[]);var s={type:"video",sources:[{src:n,provider:"youtube"}]};return(0,o.jsx)(r.Z,{source:s,ref:t,options:{autoplay:!0}})}}}]);
//# sourceMappingURL=113.3d6ab0d7.chunk.js.map