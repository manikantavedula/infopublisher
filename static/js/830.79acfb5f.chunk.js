"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[830],{5878:function(e,n,t){var o=t(2791);n.Z=function(){var e=(0,o.useRef)(!0);return(0,o.useEffect)((function(){return function(){e.current=!1}}),[]),e}},8393:function(e,n,t){var o=t(3767),r=t(890),i=t(3060),a=t(184);n.Z=function(){return(0,a.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",children:[(0,a.jsx)(r.Z,{variant:"subtitle2",component:i.Z,href:"https://berrydashboard.io",target:"_blank",underline:"hover",children:"berrydashboard.io"}),(0,a.jsx)(r.Z,{variant:"subtitle2",component:i.Z,href:"https://codedthemes.com",target:"_blank",underline:"hover",children:"\xa9 codedthemes.com"})]})}},5290:function(e,n,t){var o=t(1413),r=t(5987),i=t(4554),a=t(3735),l=t(184),s=["children"];n.Z=function(e){var n=e.children,t=(0,r.Z)(e,s);return(0,l.jsx)(a.Z,(0,o.Z)((0,o.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},t),{},{children:(0,l.jsx)(i.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:n})}))}},3914:function(e,n,t){var o=(0,t(6934).ZP)("div")((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"100vh"}}));n.Z=o},5830:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var o=t(9439),r=t(2791),i=t(6871),a=t(3504),l=t(3967),s=t(5193),c=t(1889),u=t(3914),d=t(5290),m=t(1413),h=t(4165),f=t(5861),b=t(5987),p=t(9434),x=t(8591),Z=t(8096),g=t(4925),v=t(7196),j=t(7071),y=t(4554),S=t(6151),P=t(7942),w=t(2506),C=t(5878),N=t(2909),T=(t(6914),t(616)),k=t(1243),A=t(184),O=["isLoading","handleLoading","isOTP","handleIsOTP","initialValues","handleInitialValues"],I=P.Ry().shape({mobileNumber:P.Z_().matches(/^\d{10}$/,"Mobile number is not valid").required("Mobile number is required")}),M=P.Ry().shape({mobileNumber:P.Z_().matches(/^\d{10}$/,"Mobile number is not valid").required("Mobile number is required"),otp:P.Z_().matches(/^\d{6}$/,"OTP must be a 6-digit number").required("OTP is required")}),V=r.memo((function(e){e.isLoading;var n=e.handleLoading,t=e.isOTP,a=e.handleIsOTP,u=e.initialValues,d=e.handleInitialValues,P=((0,b.Z)(e,O),(0,i.s0)()),T=(0,l.Z)(),V=(0,p.I0)(),L=((0,C.Z)(),(0,s.Z)(T.breakpoints.down("md")),(0,p.v9)((function(e){return e.customization})),(0,r.useState)(!0)),E=(0,o.Z)(L,2),R=(E[0],E[1],(0,r.useState)(!1)),B=(0,o.Z)(R,2),F=(B[0],B[1],(0,r.useState)("")),_=(0,o.Z)(F,2),q=(_[0],_[1],(0,r.useCallback)((function(e){a(e)}),[]));(0,r.useEffect)((function(){console.log(t)}),[t]);var z=(0,r.useCallback)((function(e){d(e),console.log("handle login OTP values",e),n(!0);fetch("https://2factor.in/API/V1/e6d1f0ea-fa33-11ed-addf-0200cd936042/SMS/+91".concat(e.mobileNumber,"/AUTOGEN2/INFOPL"),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){console.log(e),"Success"===e.Status?(n(!1),q(!0),console.warn("Success True")):(console.error("login failed"),n(!1))})).catch((function(e){return console.log("error",e)}))}),[]),D=(0,r.useCallback)(function(){var e=(0,f.Z)((0,h.Z)().mark((function e(t){var o,r,i;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),console.log("handle login OTP values",t),n(!0),o={method:"GET",redirect:"follow"},fetch("https://2factor.in/API/V1/e6d1f0ea-fa33-11ed-addf-0200cd936042/SMS/VERIFY3/+91".concat(t.mobileNumber,"/").concat(t.otp),o).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then(function(){var e=(0,f.Z)((0,h.Z)().mark((function e(o){var a;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(o),"Success"!==o.Status){e.next=30;break}if(i=!0,r=o,V(x.P.getUserRole()),!0!==i){e.next=28;break}return e.prev=6,e.next=9,k.Z.post("".concat("https://infopublisher.in:5000","/common/api/getLoginRole"),(0,m.Z)({},t),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 9:return a=e.sent,console.log(a.data),console.log(r,t),e.next=14,localStorage.setItem("role",a.data.role);case 14:return e.next=16,localStorage.setItem("access_role",a.data.role);case 16:return e.next=18,localStorage.setItem("access_role_data",JSON.stringify(a.data.data[0]));case 18:return e.next=20,V(x.P.setUserRole());case 20:"admin"===a.data.role?P("/dashboard/default"):P("/learn/online-classes"),n(!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),n(!1),console.error(e.t0);case 28:e.next=33;break;case 30:console.error("login failed"),i=!1,n(!1);case 33:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error",e)}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(c.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:(0,A.jsx)(c.ZP,{item:!0,xs:12,margin:"auto",children:t?(0,A.jsx)(w.J9,{initialValues:u,validationSchema:M,onSubmit:D,children:function(e){var n=e.values,t=e.handleSubmit,o=e.handleChange,r=e.handleBlur;e.touched,e.errors;return(0,A.jsxs)(w.l0,{onSubmit:t,children:[(0,A.jsxs)(Z.Z,{variant:"outlined",children:[(0,A.jsx)(g.Z,{htmlFor:"outlined-adornment-mobileNumber",children:"Mobile Number"}),(0,A.jsx)(w.gN,{as:v.Z,id:"outlined-adornment-mobileNumber",type:"tel",value:n.mobileNumber,name:"mobileNumber",onBlur:r,onChange:o,label:"Mobile Number",inputProps:{}}),(0,A.jsx)(w.Bc,{name:"mobileNumber",component:j.Z,error:!0,id:"standard-weight-helper-text-mobileNumber"})]}),(0,A.jsx)("br",{}),(0,A.jsx)("br",{}),(0,A.jsxs)(Z.Z,{variant:"outlined",children:[(0,A.jsx)(g.Z,{htmlFor:"outlined-adornment-otp",children:"OTP"}),(0,A.jsx)(w.gN,{as:v.Z,id:"outlined-adornment-otp",type:"tel",value:n.otp,name:"otp",onBlur:r,onChange:o,label:"OTP",inputProps:{}}),(0,A.jsx)(w.Bc,{name:"otp",component:j.Z,error:!0,id:"standard-weight-helper-text-otp"})]}),(0,A.jsx)(y.Z,{sx:{mt:2},children:(0,A.jsx)(N.Z,{children:(0,A.jsx)(S.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Sign in"})})})]})}}):(0,A.jsx)(w.J9,{initialValues:u,validationSchema:I,onSubmit:z,children:function(e){var n=e.values,t=e.handleSubmit,o=e.handleChange,r=e.handleBlur;e.touched,e.errors;return(0,A.jsxs)(w.l0,{onSubmit:t,children:[(0,A.jsxs)(Z.Z,{variant:"outlined",children:[(0,A.jsx)(g.Z,{htmlFor:"outlined-adornment-mobileNumber",children:"Mobile Number"}),(0,A.jsx)(w.gN,{as:v.Z,id:"outlined-adornment-mobileNumber",type:"tel",value:n.mobileNumber,name:"mobileNumber",onBlur:r,onChange:o,label:"Mobile Number",inputProps:{}}),(0,A.jsx)(w.Bc,{name:"mobileNumber",component:j.Z,error:!0,id:"standard-weight-helper-text-mobileNumber"})]}),(0,A.jsx)(y.Z,{sx:{mt:2},children:(0,A.jsx)(N.Z,{children:(0,A.jsx)(S.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Get OTP"})})})]})}})})})})})),L=V,E=t(4904),R=(t(8393),t(3379)),B=t(3239),F=function(){var e=(0,l.Z)(),n=(0,p.I0)(),t=((0,s.Z)(e.breakpoints.down("md")),(0,i.s0)()),m=(0,r.useState)(!1),h=(0,o.Z)(m,2),f=h[0],b=h[1],Z=(0,r.useState)(!0),g=(0,o.Z)(Z,2),v=g[0],j=g[1],y=(0,r.useState)({mobileNumber:"",otp:""}),S=(0,o.Z)(y,2),P=S[0],w=S[1],C=(0,r.useCallback)((function(e){j(e)}),[]);return(0,r.useLayoutEffect)((function(){b(!0),n(x.P.getUserRole())}),[]),(0,r.useEffect)((function(){console.log((0,T.getLocalItems)());var e=localStorage.getItem("access_role");e?(b(!1),t("admin"===e?"/dashboard/default":"/learn/online-classes")):(b(!1),t("/"))}),[]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(R.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:f,children:(0,A.jsx)(B.Z,{color:"inherit"})}),!f&&(0,A.jsx)(u.Z,{children:(0,A.jsx)(c.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(c.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,A.jsx)(c.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,A.jsx)(d.Z,{children:(0,A.jsxs)(c.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,A.jsx)(c.ZP,{item:!0,sx:{mb:3},children:(0,A.jsx)(a.rU,{to:"#",children:(0,A.jsx)(E.Z,{})})}),(0,A.jsx)(c.ZP,{item:!0,xs:12,children:(0,A.jsx)(L,{isLoading:f,handleLoading:function(e){b((function(e){return!e}))},isOTP:v,handleIsOTP:C,initialValues:P,handleInitialValues:function(e){w((function(n){return e}))}})})]})})})})})})})]})}},3060:function(e,n,t){t.d(n,{Z:function(){return w}});var o=t(9439),r=t(4942),i=t(3366),a=t(7462),l=t(2791),s=t(8182),c=t(865),u=t(8529),d=t(2065),m=t(4036),h=t(6934),f=t(3736),b=t(8221),p=t(2071),x=t(890),Z=t(9076);function g(e){return(0,Z.Z)("MuiLink",e)}var v=(0,t(9046).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),j=t(184),y=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],S={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},P=(0,h.ZP)(x.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,m.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState,o=(0,u.DW)(n,"palette.".concat(function(e){return S[e]||e}(t.color)))||t.color;return(0,a.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==o?(0,d.Fq)(o,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===t.component&&(0,r.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(v.focusVisible),{outline:"auto"}))})),w=l.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiLink"}),r=t.className,u=t.color,d=void 0===u?"primary":u,h=t.component,x=void 0===h?"a":h,Z=t.onBlur,v=t.onFocus,S=t.TypographyClasses,w=t.underline,C=void 0===w?"always":w,N=t.variant,T=void 0===N?"inherit":N,k=(0,i.Z)(t,y),A=(0,b.Z)(),O=A.isFocusVisibleRef,I=A.onBlur,M=A.onFocus,V=A.ref,L=l.useState(!1),E=(0,o.Z)(L,2),R=E[0],B=E[1],F=(0,p.Z)(n,V),_=(0,a.Z)({},t,{color:d,component:x,focusVisible:R,underline:C,variant:T}),q=function(e){var n=e.classes,t=e.component,o=e.focusVisible,r=e.underline,i={root:["root","underline".concat((0,m.Z)(r)),"button"===t&&"button",o&&"focusVisible"]};return(0,c.Z)(i,g,n)}(_);return(0,j.jsx)(P,(0,a.Z)({className:(0,s.Z)(q.root,r),classes:S,color:d,component:x,onBlur:function(e){I(e),!1===O.current&&B(!1),Z&&Z(e)},onFocus:function(e){M(e),!0===O.current&&B(!0),v&&v(e)},ref:F,ownerState:_,variant:T},k))}))},6914:function(e,n,t){t(2791);n.Z=t.p+"static/media/social-google.9887eb8eb43729cb99f402cfa0de3c44.svg"}}]);
//# sourceMappingURL=830.79acfb5f.chunk.js.map