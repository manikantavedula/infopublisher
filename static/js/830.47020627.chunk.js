"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[830],{5878:function(e,n,t){var o=t(2791);n.Z=function(){var e=(0,o.useRef)(!0);return(0,o.useEffect)((function(){return function(){e.current=!1}}),[]),e}},8393:function(e,n,t){var o=t(3767),r=t(890),i=t(3060),a=t(184);n.Z=function(){return(0,a.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",children:[(0,a.jsx)(r.Z,{variant:"subtitle2",component:i.Z,href:"https://berrydashboard.io",target:"_blank",underline:"hover",children:"berrydashboard.io"}),(0,a.jsx)(r.Z,{variant:"subtitle2",component:i.Z,href:"https://codedthemes.com",target:"_blank",underline:"hover",children:"\xa9 codedthemes.com"})]})}},5290:function(e,n,t){var o=t(1413),r=t(5987),i=t(4554),a=t(3735),l=t(184),s=["children"];n.Z=function(e){var n=e.children,t=(0,r.Z)(e,s);return(0,l.jsx)(a.Z,(0,o.Z)((0,o.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},t),{},{children:(0,l.jsx)(i.Z,{sx:{p:{xs:2,sm:3,xl:5}},children:n})}))}},3914:function(e,n,t){var o=(0,t(6934).ZP)("div")((function(e){return{backgroundColor:e.theme.palette.primary.light,minHeight:"100vh"}}));n.Z=o},5830:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var o=t(4165),r=t(5861),i=t(9439),a=t(2791),l=t(6871),s=t(3504),c=t(3967),u=t(5193),d=t(1889),m=t(3914),h=t(5290),f=t(5987),b=t(9434),x=t(8591),p=t(8096),Z=t(4925),g=t(7196),v=t(7071),j=t(4554),S=t(4518),y=t(7942),P=t(2506),N=t(5878),k=t(2909),C=(t(6914),t(616)),w=t(184),T=["isLoading","handleLoading","isOTP","handleIsOTP","initialValues","handleInitialValues"],I=y.Ry().shape({mobileNumber:y.Z_().matches(/^\d{10}$/,"Mobile number is not valid").required("Mobile number is required")}),O=y.Ry().shape({mobileNumber:y.Z_().matches(/^\d{10}$/,"Mobile number is not valid").required("Mobile number is required"),otp:y.Z_().matches(/^\d{6}$/,"OTP must be a 6-digit number").required("OTP is required")}),V=a.memo((function(e){e.isLoading;var n=e.handleLoading,t=e.isOTP,o=e.handleIsOTP,r=e.initialValues,s=e.handleInitialValues,m=((0,f.Z)(e,T),(0,l.s0)()),h=(0,c.Z)(),y=(0,b.I0)(),C=((0,N.Z)(),(0,u.Z)(h.breakpoints.down("md")),(0,b.v9)((function(e){return e.customization})),(0,a.useState)(!0)),V=(0,i.Z)(C,2),L=(V[0],V[1],(0,a.useState)(!1)),M=(0,i.Z)(L,2),R=(M[0],M[1],(0,a.useState)("")),B=(0,i.Z)(R,2),F=(B[0],B[1],(0,a.useCallback)((function(e){o(e)}),[]));(0,a.useEffect)((function(){console.log(t)}),[t]);var E=(0,a.useCallback)((function(e){s(e),console.log("handle login OTP values",e),n(!0);fetch("https://2factor.in/API/V1/e6d1f0ea-fa33-11ed-addf-0200cd936042/SMS/+91".concat(e.mobileNumber,"/AUTOGEN2/INFOPL"),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(e){console.log(e),"Success"===e.Status?(n(!1),F(!0),console.warn("Success True")):(console.error("login failed"),n(!1))})).catch((function(e){return console.log("error",e)}))}),[]),q=(0,a.useCallback)((function(e){console.log(e),console.log("handle login OTP values",e),n(!0);fetch("https://2factor.in/API/V1/e6d1f0ea-fa33-11ed-addf-0200cd936042/SMS/VERIFY3/+91".concat(e.mobileNumber,"/").concat(e.otp),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return JSON.parse(e)})).then((function(t){console.log(t),"Success"===t.Status?("9440236972"===e.mobileNumber&&(n(!1),localStorage.setItem("role","admin"),y(x.P.setUserRole()),m("/dashboard/default")),n(!1),localStorage.setItem("role","student"),y(x.P.setUserRole()),m("/learn/online-classes")):(console.error("login failed"),n(!1))})).catch((function(e){return console.log("error",e)}))}),[]);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(d.ZP,{container:!0,direction:"column",justifyContent:"center",spacing:2,children:(0,w.jsx)(d.ZP,{item:!0,xs:12,margin:"auto",children:t?(0,w.jsx)(P.J9,{initialValues:r,validationSchema:O,onSubmit:q,children:function(e){var n=e.values,t=e.handleSubmit,o=e.handleChange,r=e.handleBlur;e.touched,e.errors;return(0,w.jsxs)(P.l0,{onSubmit:t,children:[(0,w.jsxs)(p.Z,{variant:"outlined",children:[(0,w.jsx)(Z.Z,{htmlFor:"outlined-adornment-mobileNumber",children:"Mobile Number"}),(0,w.jsx)(P.gN,{as:g.Z,id:"outlined-adornment-mobileNumber",type:"tel",value:n.mobileNumber,name:"mobileNumber",onBlur:r,onChange:o,label:"Mobile Number",inputProps:{}}),(0,w.jsx)(P.Bc,{name:"mobileNumber",component:v.Z,error:!0,id:"standard-weight-helper-text-mobileNumber"})]}),(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),(0,w.jsxs)(p.Z,{variant:"outlined",children:[(0,w.jsx)(Z.Z,{htmlFor:"outlined-adornment-otp",children:"OTP"}),(0,w.jsx)(P.gN,{as:g.Z,id:"outlined-adornment-otp",type:"tel",value:n.otp,name:"otp",onBlur:r,onChange:o,label:"OTP",inputProps:{}}),(0,w.jsx)(P.Bc,{name:"otp",component:v.Z,error:!0,id:"standard-weight-helper-text-otp"})]}),(0,w.jsx)(j.Z,{sx:{mt:2},children:(0,w.jsx)(k.Z,{children:(0,w.jsx)(S.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Sign in"})})})]})}}):(0,w.jsx)(P.J9,{initialValues:r,validationSchema:I,onSubmit:E,children:function(e){var n=e.values,t=e.handleSubmit,o=e.handleChange,r=e.handleBlur;e.touched,e.errors;return(0,w.jsxs)(P.l0,{onSubmit:t,children:[(0,w.jsxs)(p.Z,{variant:"outlined",children:[(0,w.jsx)(Z.Z,{htmlFor:"outlined-adornment-mobileNumber",children:"Mobile Number"}),(0,w.jsx)(P.gN,{as:g.Z,id:"outlined-adornment-mobileNumber",type:"tel",value:n.mobileNumber,name:"mobileNumber",onBlur:r,onChange:o,label:"Mobile Number",inputProps:{}}),(0,w.jsx)(P.Bc,{name:"mobileNumber",component:v.Z,error:!0,id:"standard-weight-helper-text-mobileNumber"})]}),(0,w.jsx)(j.Z,{sx:{mt:2},children:(0,w.jsx)(k.Z,{children:(0,w.jsx)(S.Z,{disableElevation:!0,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Get OTP"})})})]})}})})})})})),L=t(4904),M=(t(8393),t(3379)),R=t(3239),B=function(){var e=(0,c.Z)(),n=(0,b.I0)(),t=((0,u.Z)(e.breakpoints.down("md")),(0,l.s0)()),f=(0,a.useState)(!1),p=(0,i.Z)(f,2),Z=p[0],g=p[1],v=(0,a.useState)(!1),j=(0,i.Z)(v,2),S=j[0],y=j[1],P=(0,a.useState)({mobileNumber:"",otp:""}),N=(0,i.Z)(P,2),k=N[0],T=N[1],I=(0,a.useCallback)((function(e){y(e)}),[]);return(0,a.useLayoutEffect)((function(){g(!0),n(x.P.getUserRole())}),[]),(0,a.useEffect)((function(){if(console.log((0,C.getLocalItems)()),(0,C.loginCheck)())g(!1),t("/dashboard/default");else if((0,C.loginCheck)())g(!1);else{var e;console.log("refresh token for login auth"),(0,r.Z)((0,o.Z)().mark((function r(){return(0,o.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,C.RefreshToken)();case 2:return e=o.sent,o.next=5,n(x.P.storeTokens());case 5:return o.next=7,console.log("refresh token status",e);case 7:if("error"!==e&&"logout"!==e){o.next=11;break}return o.next=10,(0,C.removeLocalItems)();case 10:(0,C.getRemovedLocalItemsStatus)()&&t("/");case 11:g(!1);case 12:case"end":return o.stop()}}),r)})))()}}),[]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(M.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:Z,children:(0,w.jsx)(R.Z,{color:"inherit"})}),!Z&&(0,w.jsx)(m.Z,{children:(0,w.jsx)(d.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(d.ZP,{container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:"calc(100vh - 68px)"},children:(0,w.jsx)(d.ZP,{item:!0,sx:{m:{xs:1,sm:3},mb:0},children:(0,w.jsx)(h.Z,{children:(0,w.jsxs)(d.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,w.jsx)(d.ZP,{item:!0,sx:{mb:3},children:(0,w.jsx)(s.rU,{to:"#",children:(0,w.jsx)(L.Z,{})})}),(0,w.jsx)(d.ZP,{item:!0,xs:12,children:(0,w.jsx)(V,{isLoading:Z,handleLoading:function(e){g((function(e){return!e}))},isOTP:S,handleIsOTP:I,initialValues:k,handleInitialValues:function(e){T((function(n){return e}))}})})]})})})})})})})]})}},3060:function(e,n,t){t.d(n,{Z:function(){return N}});var o=t(9439),r=t(4942),i=t(3366),a=t(7462),l=t(2791),s=t(8182),c=t(865),u=t(8529),d=t(2065),m=t(4036),h=t(6934),f=t(3736),b=t(8221),x=t(2071),p=t(890),Z=t(9076);function g(e){return(0,Z.Z)("MuiLink",e)}var v=(0,t(9046).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),j=t(184),S=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},P=(0,h.ZP)(p.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,m.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState,o=(0,u.DW)(n,"palette.".concat(function(e){return y[e]||e}(t.color)))||t.color;return(0,a.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==o?(0,d.Fq)(o,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===t.component&&(0,r.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(v.focusVisible),{outline:"auto"}))})),N=l.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiLink"}),r=t.className,u=t.color,d=void 0===u?"primary":u,h=t.component,p=void 0===h?"a":h,Z=t.onBlur,v=t.onFocus,y=t.TypographyClasses,N=t.underline,k=void 0===N?"always":N,C=t.variant,w=void 0===C?"inherit":C,T=(0,i.Z)(t,S),I=(0,b.Z)(),O=I.isFocusVisibleRef,V=I.onBlur,L=I.onFocus,M=I.ref,R=l.useState(!1),B=(0,o.Z)(R,2),F=B[0],E=B[1],q=(0,x.Z)(n,M),z=(0,a.Z)({},t,{color:d,component:p,focusVisible:F,underline:k,variant:w}),A=function(e){var n=e.classes,t=e.component,o=e.focusVisible,r=e.underline,i={root:["root","underline".concat((0,m.Z)(r)),"button"===t&&"button",o&&"focusVisible"]};return(0,c.Z)(i,g,n)}(z);return(0,j.jsx)(P,(0,a.Z)({className:(0,s.Z)(A.root,r),classes:y,color:d,component:p,onBlur:function(e){V(e),!1===O.current&&E(!1),Z&&Z(e)},onFocus:function(e){L(e),!0===O.current&&E(!0),v&&v(e)},ref:q,ownerState:z,variant:w},T))}))},6914:function(e,n,t){t(2791);n.Z=t.p+"static/media/social-google.9887eb8eb43729cb99f402cfa0de3c44.svg"}}]);
//# sourceMappingURL=830.47020627.chunk.js.map