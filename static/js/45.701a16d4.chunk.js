"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[45],{84045:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var r=t(74165),a=t(1413),l=t(15861),s=t(29439),o=t(72791),i=t(61889),c=t(57621),d=t(39373),u=t(48550),m=t(59434),h=t(1469),f=t(31243),x=t(83379),p=t(13239),g=t(4942),Z=t(66934),j=t(79836),v=t(53382),b=t(68745),C=t(90618),y=t(39281),S=t(56890),A=t(35855),w=t(20890),E=t(20068),q=t(13400),_=t(58956),P=t(80184);function O(e){var n=e.name;return(0,P.jsx)(w.Z,{display:"block",variant:"h6",fontSize:"16px",fontWeight:400,children:n})}var T=(0,Z.ZP)(b.Z)((function(e){var n;e.theme;return n={},(0,g.Z)(n,"&.".concat(C.Z.head),{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"}),(0,g.Z)(n,"&.".concat(C.Z.body),{fontSize:14}),n})),k=(0,Z.ZP)(A.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function I(e){var n=e.filtereddata,t=e.onOpenEditModal,r=e.onOpenDeleteModal,a=e.onOpenViewModal,l=(0,o.useState)([]),i=(0,s.Z)(l,2),c=i[0],d=i[1],u=(0,o.useState)([{Header:"s.no",accessor:"sno",align:"left"},{Header:"student name",accessor:"student name",align:"left"},{Header:"series",accessor:"series",align:"left"},{Header:"standard",accessor:"standard",align:"left"},{Header:"contact",accessor:"contact",align:"center"},{Header:"action",accessor:"action",align:"center"}]),m=(0,s.Z)(u,1)[0];return(0,o.useEffect)((function(){console.log(c)}),[c]),(0,o.useEffect)((function(){var e=[];console.log(n),n&&null!==n&&(e=n.map((function(e,n){return{sno:(0,P.jsx)(w.Z,{color:"text",variant:"h6",fontSize:"16px",fontWeight:400,children:n+1}),student:(0,P.jsx)(O,{name:"".concat(e.name)}),series:(0,P.jsx)(O,{name:"".concat(e.series)}),standard:(0,P.jsx)(O,{name:"".concat(e.standard)}),contact:(0,P.jsx)(O,{name:"".concat(e.contact)}),action:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(E.Z,{title:"View",placement:"top",children:(0,P.jsx)(q.Z,{color:"primary",type:"button",onClick:function(){return a(e)},children:(0,P.jsx)(_.tCy,{size:"24px"})})}),(0,P.jsx)(E.Z,{title:"Edit",placement:"top",children:(0,P.jsx)(q.Z,{color:"primary",type:"button",onClick:function(){return t(e)},children:(0,P.jsx)(_.D9l,{size:"24px"})})}),(0,P.jsx)(E.Z,{title:"Delete",placement:"top",children:(0,P.jsx)(q.Z,{color:"primary",type:"button",onClick:function(){return r(e)},children:(0,P.jsx)(_.IT9,{size:"24px"})})})]})}}))),d(e)}),[n]),(0,P.jsx)(y.Z,{children:(0,P.jsxs)(j.Z,{sx:{minWidth:700,boxShadow:"none"},size:"small","aria-label":"customized table",children:[(0,P.jsx)(S.Z,{children:(0,P.jsxs)(A.Z,{children:[(0,P.jsx)(T,{align:m[0].align,children:"S.No"}),(0,P.jsx)(T,{align:m[1].align,children:"Student"}),(0,P.jsx)(T,{align:m[2].align,children:"Series"}),(0,P.jsx)(T,{align:m[2].align,children:"Standard"}),(0,P.jsx)(T,{align:m[3].align,children:"Contact"}),(0,P.jsx)(T,{align:m[4].align,children:"Action"})]})}),(0,P.jsx)(v.Z,{children:c&&c.map((function(e,n){return(0,P.jsxs)(k,{children:[(0,P.jsx)(T,{component:"th",scope:"row",align:m[0].align,children:e.sno}),(0,P.jsx)(T,{align:m[1].align,children:e.student}),(0,P.jsx)(T,{align:m[2].align,children:e.series}),(0,P.jsx)(T,{align:m[2].align,children:e.standard}),(0,P.jsx)(T,{align:m[3].align,children:e.contact}),(0,P.jsx)(T,{align:m[4].align,children:e.action})]},n)}))})]})})}var N=t(93433),B=t(36151),W=t(5289),z=t(97123),V=t(39157),L=t(65661),M=t(64554),D=t(79012),R=t(47071),H=t(68096),$=t(94925),J=t(58406),U=t(23786),G=t(68001),F=t(93251),X=t(96739),K=t(92506),Q=t(77942),Y=t(89704),ee=t.n(Y);function ne(e){var n,t=e.isOpen,a=e.onClose,c=e.onCloseEmpty,d=e.errorContact,h=(0,o.useState)([]),f=(0,s.Z)(h,2),x=f[0],p=f[1],Z=(0,o.useState)([]),j=(0,s.Z)(Z,2),v=j[0],b=j[1],C=(0,o.useState)([]),y=(0,s.Z)(C,2),S=y[0],A=y[1],w=(0,m.I0)();(0,o.useLayoutEffect)((function(){w(G.v.getAll()),w(F.$.getAll())}),[]);var E=(0,m.v9)((function(e){return e.series.data})),_=(0,m.v9)((function(e){return e.standard.data})),O=localStorage.getItem("key_for_access"),T=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),O);(0,o.useEffect)((function(){console.log(x)}),[x]),(0,o.useEffect)((function(){console.log(v)}),[v]),(0,o.useEffect)((function(){console.log(E),console.log(T);var e=T.school_series,n=(0,N.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));console.log(n),p(E&&E.length>0&&E.filter((function(e){return n.includes(e.id)})))}),[E]),(0,o.useEffect)((function(){console.log(_),console.log(T);var e=T.school_series,n=(0,N.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[1])}))));console.log(n),b(_&&_.length>0&&_.filter((function(e){return n.includes(e.id)})))}),[_]),(0,o.useEffect)((function(){console.log(d)}),[d]);var k=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==d){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n)),I={name:"",email:"",contact:"",series:"",standard:"",address:"",student_school:{},created_by:T.id},Y=function(e,n){var t=e.target.value;n("series",t);var r=function(e){console.log(e),console.log(T);var n=T.school_series,t=(0,N.Z)(new Set(n.split(", ").map((function(e){return e.split("|-|")})).filter((function(n){return Number(n[0])===e.id})).map((function(e){return Number(e[1])}))));return console.log(t),_&&_.length>0&&_.filter((function(e){return t.includes(e.id)}))}(t);console.log(r),A(r),n("standard","")};return(0,P.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,P.jsx)(L.Z,{className:"flex justify-content-between",children:(0,P.jsxs)(M.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(M.Z,{padding:"8px",fontSize:18,children:"Add Student"}),(0,P.jsx)(q.Z,{onClick:c,children:(0,P.jsx)(X.Z,{})})]})}),(0,P.jsx)(K.J9,{initialValues:I,validationSchema:k,onSubmit:function(e){console.log(e),function(e){console.log(e),a(e)}(e)},children:function(e){var n=e.values,t=e.handleSubmit,r=e.errors,a=e.touched,l=e.setFieldValue;return(0,P.jsxs)(K.l0,{onSubmit:function(e){console.log(e),t(e)},children:[(0,P.jsx)(V.Z,{children:(0,P.jsx)(D.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,P.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:a.name&&Boolean(r.name),helperText:a.name&&r.name,onChange:function(e){l("name",e.target.value)},fullWidth:!0})}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:a.email&&Boolean(r.email),helperText:a.email&&r.email,onChange:function(e){l("email",e.target.value)},fullWidth:!0})}),(0,P.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,P.jsx)(R.Z,{sx:{color:"red"},children:d&&"Contact Already Exists"}),(0,P.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:a.contact&&Boolean(r.contact),helperText:a.contact&&r.contact,onChange:function(e){l("contact",e.target.value)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"}}),x&&null!==x&&x.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",value:n.series,label:"Series",error:a.series&&Boolean(r.series),helperText:a.series&&r.series,onChange:function(e){return Y(e,l)},sx:{marginBottom:"16px"},children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),x&&x.length>0&&x.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:r.series&&a.series?r.series:""})]}),S&&null!==S&&S.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",value:n.standard,label:"Standard",error:a.standard&&Boolean(r.standard),helperText:a.standard&&r.standard,onChange:function(e){l("standard",e.target.value)},sx:{marginBottom:"16px"},children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),S&&S.length>0&&S.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:r.standard&&a.standard?r.standard:""})]})]}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",defaultValue:"",style:{width:"100%"},error:a.address&&Boolean(r.address),helperText:a.address&&r.address,onChange:function(e){l("address",e.target.value)}})})]})})}),(0,P.jsx)(z.Z,{children:(0,P.jsx)(B.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}function te(e){var n,t=e.isOpen,a=e.onClose,c=e.onCloseEmpty,d=e.errorContact,h=e.editModalData,f=(0,o.useState)([]),x=(0,s.Z)(f,2),p=x[0],Z=x[1],j=(0,o.useState)([]),v=(0,s.Z)(j,2),b=v[0],C=v[1],y=(0,o.useState)([]),S=(0,s.Z)(y,2),A=S[0],w=S[1],E=(0,m.I0)();(0,o.useLayoutEffect)((function(){E(G.v.getAll()),E(F.$.getAll()),console.log(h)}),[]);var _=(0,m.v9)((function(e){return e.series.data})),O=(0,m.v9)((function(e){return e.standard.data})),T=h.name,k=h.email,I=h.contact,Y=h.series,ne=h.standard,te=h.address,re={name:T,email:k,contact:I,series:_&&_.length>0&&_.filter((function(e){return e.name===Y}))[0],standard:O&&O.length>0&&O.filter((function(e){return e.name===ne}))[0],address:te};console.log(re);var ae=localStorage.getItem("key_for_access"),le=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),ae);(0,o.useEffect)((function(){console.log(p)}),[p]),(0,o.useEffect)((function(){console.log(b)}),[b]),(0,o.useEffect)((function(){console.log(_);var e=le.school_series,n=(0,N.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));Z(_&&_.length>0&&_.filter((function(e){return n.includes(e.id)})))}),[_]),(0,o.useEffect)((function(){console.log(O),console.log(le);var e=le.school_series,n=(0,N.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[1])}))));console.log(n),C(O&&O.length>0&&O.filter((function(e){return n.includes(e.id)}))),w(O&&O.length>0&&O.filter((function(e){return n.includes(e.id)})))}),[O]),(0,o.useEffect)((function(){console.log(O),_&&_.length>0&&O&&O.length>0&&(re={name:T,email:k,contact:I,series:_.filter((function(e){return e.name===Y}))[0],standard:O.filter((function(e){return e.name===ne}))[0],address:te})}),[_,O]),(0,o.useEffect)((function(){console.log(d)}),[d]);var se=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==d){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n)),oe=function(e,n){var t=e.target.value;n("series",t);var r=function(e){console.log(e),console.log(le);var n=le.school_series,t=(0,N.Z)(new Set(n.split(", ").map((function(e){return e.split("|-|")})).filter((function(n){return Number(n[0])===e.id})).map((function(e){return Number(e[1])}))));return console.log(t),O&&O.length>0&&O.filter((function(e){return t.includes(e.id)}))}(t);console.log(r),w(r),n("standard","")};return(0,P.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,P.jsx)(L.Z,{className:"flex justify-content-between",children:(0,P.jsxs)(M.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(M.Z,{padding:"8px",fontSize:18,children:"Edit Student"}),(0,P.jsx)(q.Z,{onClick:c,children:(0,P.jsx)(X.Z,{})})]})}),_&&O&&p&&_.length>0&&O.length>0&&p.length>0&&(0,P.jsx)(K.J9,{initialValues:re,validationSchema:se,onSubmit:function(e){console.log(e),function(e){console.log(e),a(e)}(e)},children:function(e){var n=e.values,t=e.handleSubmit,r=e.errors,a=e.touched,l=e.setFieldValue;return(0,P.jsxs)(K.l0,{onSubmit:function(e){console.log(e),t(e)},children:[(0,P.jsx)(V.Z,{children:(0,P.jsx)(D.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,P.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:a.name&&Boolean(r.name),helperText:a.name&&r.name,onChange:function(e){l("name",e.target.value)},fullWidth:!0,defaultValue:n.name})}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:a.email&&Boolean(r.email),helperText:a.email&&r.email,onChange:function(e){l("email",e.target.value)},fullWidth:!0,defaultValue:n.email})}),(0,P.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,P.jsx)(R.Z,{sx:{color:"red"},children:d&&"Contact Already Exists"}),(0,P.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:a.contact&&Boolean(r.contact),helperText:a.contact&&r.contact,onChange:function(e){l("contact",e.target.value),console.log(n)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"},defaultValue:n.contact}),p&&null!==p&&p.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",label:"Series",error:a.series&&Boolean(r.series),helperText:a.series&&r.series,onChange:function(e){return oe(e,l)},sx:{marginBottom:"16px"},value:p.filter((function(e){return e.name===n.series.name}))[0],children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),p&&p.length>0&&p.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:r.series&&a.series?r.series:""})]}),A&&null!==A&&A.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",label:"Standard",error:a.standard&&Boolean(r.standard),helperText:a.standard&&r.standard,onChange:function(e){l("standard",e.target.value)},sx:{marginBottom:"16px"},value:A.filter((function(e){return e.name===n.standard.name}))[0],children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),A&&A.length>0&&A.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:r.standard&&a.standard?r.standard:""})]})]}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",style:{width:"100%"},error:a.address&&Boolean(r.address),helperText:a.address&&r.address,onChange:function(e){l("address",e.target.value)},defaultValue:n.address})})]})})}),(0,P.jsx)(z.Z,{children:(0,P.jsx)(B.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}function re(e){var n,t=e.isOpen,a=e.onClose,c=e.onCloseEmpty,d=e.errorContact,h=e.editModalData,f=(0,o.useState)([]),x=(0,s.Z)(f,2),p=x[0],Z=x[1],j=(0,m.I0)();(0,o.useLayoutEffect)((function(){j(G.v.getAll()),j(F.$.getAll()),console.log(h)}),[]);var v=(0,m.v9)((function(e){return e.series.data})),b=(0,m.v9)((function(e){return e.standard.data})),C=h.name,y=h.email,S=h.contact,A=h.series,w=h.standard,E=h.address,_={name:C,email:y,contact:S,series:v&&v.length>0&&v.filter((function(e){return e.name===A}))[0],standard:b&&b.length>0&&b.filter((function(e){return e.name===w}))[0],address:E};console.log(_);var O=localStorage.getItem("key_for_access"),T=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),O);(0,o.useEffect)((function(){console.log(p)}),[p]),(0,o.useEffect)((function(){console.log(v);var e=T.school_series,n=(0,N.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));Z(v&&v.length>0&&v.filter((function(e){return n.includes(e.id)})))}),[v]),(0,o.useEffect)((function(){console.log(b),v&&v.length>0&&b&&b.length>0&&(_={name:C,email:y,contact:S,series:v.filter((function(e){return e.name===A}))[0],standard:b.filter((function(e){return e.name===w}))[0],address:E})}),[v,b]),(0,o.useEffect)((function(){console.log(d)}),[d]);var k=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==d){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n));return(0,P.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,P.jsx)(L.Z,{className:"flex justify-content-between",children:(0,P.jsxs)(M.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(M.Z,{padding:"8px",fontSize:18,children:"Are you sure?"}),(0,P.jsx)(q.Z,{onClick:c,children:(0,P.jsx)(X.Z,{})})]})}),v&&b&&p&&v.length>0&&b.length>0&&p.length>0&&(0,P.jsx)(K.J9,{initialValues:_,validationSchema:k,onSubmit:function(e){console.log(e),function(e){console.log(e),a(e)}(e)},children:function(e){var n=e.values,t=e.handleSubmit,r=e.errors,a=e.touched,l=e.setFieldValue;return(0,P.jsxs)(K.l0,{onSubmit:function(e){console.log(e),t(e)},children:[(0,P.jsx)(V.Z,{children:(0,P.jsx)(D.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,P.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:a.name&&Boolean(r.name),helperText:a.name&&r.name,onChange:function(e){l("name",e.target.value)},fullWidth:!0,defaultValue:n.name,disabled:!0,readOnly:!0})}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:a.email&&Boolean(r.email),helperText:a.email&&r.email,onChange:function(e){l("email",e.target.value)},fullWidth:!0,defaultValue:n.email,disabled:!0,readOnly:!0})}),(0,P.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,P.jsx)(R.Z,{sx:{color:"red"},children:d&&"Contact Already Exists"}),(0,P.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:a.contact&&Boolean(r.contact),helperText:a.contact&&r.contact,onChange:function(e){l("contact",e.target.value),console.log(n)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"},defaultValue:n.contact,disabled:!0,readOnly:!0}),p&&null!==p&&p.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",label:"Series",error:a.series&&Boolean(r.series),helperText:a.series&&r.series,onChange:function(e){l("series",e.target.value)},sx:{marginBottom:"16px"},value:p.filter((function(e){return e.name===n.series.name}))[0],disabled:!0,readOnly:!0,children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),p&&p.length>0&&p.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:r.series&&a.series?r.series:""})]}),b&&null!==b&&b.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",label:"Standard",error:a.standard&&Boolean(r.standard),helperText:a.standard&&r.standard,onChange:function(e){l("standard",e.target.value)},sx:{marginBottom:"16px"},value:b.filter((function(e){return e.name===n.standard.name}))[0],disabled:!0,readOnly:!0,children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),b&&b.length>0&&b.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:r.standard&&a.standard?r.standard:""})]})]}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",style:{width:"100%"},error:a.address&&Boolean(r.address),helperText:a.address&&r.address,onChange:function(e){l("address",e.target.value)},defaultValue:n.address,disabled:!0,readOnly:!0})})]})})}),(0,P.jsx)(z.Z,{children:(0,P.jsx)(B.Z,{type:"submit",color:"primary",children:"Delete"})})]})}})]})}function ae(e){var n,t=e.isOpen,a=(e.onClose,e.onCloseEmpty),c=e.errorContact,d=e.editModalData,h=(0,o.useState)([]),f=(0,s.Z)(h,2),x=f[0],p=f[1],Z=(0,m.I0)();(0,o.useLayoutEffect)((function(){Z(G.v.getAll()),Z(F.$.getAll()),console.log(d)}),[]);var j=(0,m.v9)((function(e){return e.series.data})),v=(0,m.v9)((function(e){return e.standard.data})),b=d.name,C=d.email,y=d.contact,S=d.series,A=d.standard,w=d.address,E={name:b,email:C,contact:y,series:j&&j.length>0&&j.filter((function(e){return e.name===S}))[0],standard:v&&v.length>0&&v.filter((function(e){return e.name===A}))[0],address:w};console.log(E);var _=localStorage.getItem("key_for_access"),O=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),_);(0,o.useEffect)((function(){console.log(x)}),[x]),(0,o.useEffect)((function(){console.log(j);var e=O.school_series,n=(0,N.Z)(new Set(e.split(", ").map((function(e){return Number(e.split("|-|")[0])}))));p(j&&j.length>0&&j.filter((function(e){return n.includes(e.id)})))}),[j]),(0,o.useEffect)((function(){console.log(v),j&&j.length>0&&v&&v.length>0&&(E={name:b,email:C,contact:y,series:j.filter((function(e){return e.name===S}))[0],standard:v.filter((function(e){return e.name===A}))[0],address:w})}),[j,v]),(0,o.useEffect)((function(){console.log(c)}),[c]);var T=Q.Ry().shape((n={name:Q.Z_().required("Name is required"),series:Q.Z_().required("Series is required"),standard:Q.Z_().required("Standard is required"),contact:Q.Z_().matches(/^\d{10}$/,"Phone number is not valid").test("contact-check","Contact Already Exists",function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==c){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).required("Phone number is required"),email:Q.Z_().email("Invalid email address").matches(/^[a-zA-Z0-9._%+-]+@gmail\.com$/,"Invalid Gmail address").required("Email is required"),address:Q.Z_().required("Address is required")},(0,g.Z)(n,"series",Q.Ry().required("Series is required")),(0,g.Z)(n,"standard",Q.Ry().required("Standard is required")),n));return(0,P.jsxs)(W.Z,{open:t,fullWidth:!0,children:[(0,P.jsx)(L.Z,{className:"flex justify-content-between",children:(0,P.jsxs)(M.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(M.Z,{padding:"8px",fontSize:18,children:"Edit Student"}),(0,P.jsx)(q.Z,{onClick:a,children:(0,P.jsx)(X.Z,{})})]})}),j&&v&&x&&j.length>0&&v.length>0&&x.length>0&&(0,P.jsx)(K.J9,{initialValues:E,validationSchema:T,children:function(e){var n=e.values,t=e.errors,r=e.touched,a=e.setFieldValue;return(0,P.jsx)(K.l0,{onSubmit:function(e){console.log(e)},children:(0,P.jsx)(V.Z,{children:(0,P.jsx)(D.Z,{row:!0,style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,P.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"name",label:"Name",variant:"outlined",error:r.name&&Boolean(t.name),helperText:r.name&&t.name,onChange:function(e){a("name",e.target.value)},fullWidth:!0,defaultValue:n.name,disabled:!0,readOnly:!0})}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"email",label:"Email",variant:"outlined",error:r.email&&Boolean(t.email),helperText:r.email&&t.email,onChange:function(e){a("email",e.target.value)},fullWidth:!0,defaultValue:n.email,disabled:!0,readOnly:!0})}),(0,P.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,P.jsx)(R.Z,{sx:{color:"red"},children:c&&"Contact Already Exists"}),(0,P.jsx)(u.Z,{name:"contact",label:"Contact",variant:"outlined",error:r.contact&&Boolean(t.contact),helperText:r.contact&&t.contact,onChange:function(e){a("contact",e.target.value),console.log(n)},fullWidth:!0,inputProps:{maxLength:10},sx:{marginBottom:"16px"},defaultValue:n.contact,disabled:!0,readOnly:!0}),x&&null!==x&&x.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Series"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-series",label:"Series",error:r.series&&Boolean(t.series),helperText:r.series&&t.series,onChange:function(e){a("series",e.target.value)},sx:{marginBottom:"16px"},value:x.filter((function(e){return e.name===n.series.name}))[0],disabled:!0,readOnly:!0,children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),x&&x.length>0&&x.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:t.series&&r.series?t.series:""})]}),v&&null!==v&&v.length>0&&(0,P.jsxs)(H.Z,{fullWidth:!0,children:[(0,P.jsx)($.Z,{id:"demo-simple-select-label",children:"Standard"}),(0,P.jsxs)(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-standard",label:"Standard",error:r.standard&&Boolean(t.standard),helperText:r.standard&&t.standard,onChange:function(e){a("standard",e.target.value)},sx:{marginBottom:"16px"},value:v.filter((function(e){return e.name===n.standard.name}))[0],disabled:!0,readOnly:!0,children:[(0,P.jsx)(U.Z,{value:"",children:(0,P.jsx)("em",{children:"None"})}),v&&v.length>0&&v.map((function(e){return(0,P.jsx)(U.Z,{value:e,children:e.name})}))]}),(0,P.jsx)(R.Z,{sx:{color:"red"},children:t.standard&&r.standard?t.standard:""})]})]}),(0,P.jsx)(i.ZP,{item:!0,xs:6,children:(0,P.jsx)(u.Z,{name:"address",label:"Address",multiline:!0,rows:6,placeholder:"Address",style:{width:"100%"},error:r.address&&Boolean(t.address),helperText:r.address&&t.address,onChange:function(e){a("address",e.target.value)},defaultValue:n.address,disabled:!0,readOnly:!0})})]})})})})}})]})}var le=t(61979),se=t(1701),oe=t(13967),ie=t(39504),ce=t(94721);(0,le.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});var de=function(){var e=(0,oe.Z)(),n=(0,o.useState)(!1),t=(0,s.Z)(n,2),g=t[0],Z=t[1],j=(0,o.useState)(!1),v=(0,s.Z)(j,2),b=v[0],C=v[1],y=(0,o.useState)(""),S=(0,s.Z)(y,2),A=S[0],O=S[1],T=(0,o.useState)({}),k=(0,s.Z)(T,2),N=k[0],B=k[1],W=(0,d.Ad)(),z=((0,s.Z)(W,1)[0].darkMode,(0,o.useState)("")),V=(0,s.Z)(z,2),L=V[0],M=V[1],D=(0,o.useState)(!1),R=(0,s.Z)(D,2),H=R[0],$=R[1],J=(0,o.useState)(""),U=(0,s.Z)(J,2),G=U[0],F=U[1],X=(0,o.useState)(""),K=(0,s.Z)(X,2),Q=K[0],Y=K[1],le=localStorage.getItem("key_for_access"),de=function(e,n){var t=ee().AES.decrypt(e,n).toString(ee().enc.Utf8);return console.log(t),JSON.parse(t)}(localStorage.getItem("access_role_data"),le).id;console.log(de),(0,o.useEffect)((function(){}),[]);var ue=(0,m.I0)();(0,o.useLayoutEffect)((function(){ue(h.P.getAll())}),[]);var me=(0,m.v9)((function(e){return e.student.data}));(0,o.useEffect)((function(){console.log(me)}),[me]);var he=(0,o.useMemo)((function(){if(console.log(L),""===L.trim())return me&&me.length>0&&me.filter((function(e){return e.school===Number(de)}));var e=me.filter((function(e){return(e.name.toLowerCase().includes(L.trim().toLowerCase())||e.series.join(" ").toLowerCase().includes(L.trim().toLowerCase())||e.standard.join(" ").toLowerCase().includes(L.trim().toLowerCase())||e.contact.join(" ").toLowerCase().includes(L.trim().toLowerCase()))&&e.school===Number(de)}));return console.log(e),e}),[L,me]),fe=o.useRef(null),xe=(0,o.useCallback)((function(){Z(!0),O("add")})),pe=(0,o.useCallback)((function(e){Z(!0),O("edit"),B(e)})),ge=(0,o.useCallback)((function(e){Z(!0),O("view"),B(e)})),Ze=(0,o.useCallback)((function(e){Z(!0),O("delete"),B(e)})),je=(0,o.useCallback)((function(){Z(!1),O(""),B({})}));(0,o.useEffect)((function(){console.log(G)}),[G]),(0,o.useEffect)((function(){console.log(Q)}),[Q]);var ve=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n,t){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),console.log(n),e.prev=2,e.next=5,f.Z.post("".concat("https://app.infopublisher.in:5000","/student/submit-form"),(0,a.Z)({},n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 5:l=e.sent,console.log(l.data),"Contact already exists"===l.data?F(n.contact):(F(""),Z(!1),O(""),ue(h.P.getAll())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(n,t){return e.apply(this,arguments)}}(),be=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n,t){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),console.log(n,N,t),e.prev=2,e.next=5,f.Z.post("".concat("https://app.infopublisher.in:5000","/student/submit-edit-form"),(0,a.Z)((0,a.Z)({},N),n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 5:l=e.sent,console.log(l.data),"Contact already exists"===l.data?Y(n.contact):(Y(""),Z(!1),O(""),B({}),ue(h.P.getAll())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(n,t){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),console.log(n,N),e.prev=2,e.next=5,f.Z.post("".concat("https://app.infopublisher.in:5000","/student/submit-delete-form"),(0,a.Z)((0,a.Z)({},N),n),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});case 5:t=e.sent,console.log(t.data),"Contact already exists"===t.data?Y(n.contact):(Y(""),Z(!1),O(""),B({}),ue(h.P.getAll())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),ye=(0,o.useCallback)((function(e){var n;console.log(e.target.value,fe,fe.current),null===(n=fe.current)||void 0===n||n.focus(),M(e.target.value)}));return(0,P.jsxs)(se.Z,{theme:e,children:[(0,P.jsx)(x.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:b,children:(0,P.jsx)(p.Z,{color:"inherit"})}),g&&"add"===A?(0,P.jsx)(ne,{isOpen:g,onClose:ve,onCloseEmpty:je,errorContact:G}):null,g&&"edit"===A?(0,P.jsx)(te,{isOpen:g,onClose:be,onCloseEmpty:je,editModalData:N,errorContact:Q}):null,g&&"view"===A?(0,P.jsx)(ae,{isOpen:g,onCloseEmpty:je,editModalData:N}):null,g&&"delete"===A?(0,P.jsx)(re,{isOpen:g,onClose:Ce,onCloseEmpty:je,editModalData:N}):null,(0,P.jsx)(i.ZP,{children:(0,P.jsxs)(c.Z,{sx:{boxShadow:"none"},children:[(0,P.jsx)(ie.Z,{children:(0,P.jsxs)(i.ZP,{variant:"gradient",bgcolor:"info",borderRadius:"lg",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,P.jsx)(w.Z,{variant:"h3",fontWeight:500,color:"primary",children:"Student List"}),(0,P.jsxs)(i.ZP,{size:"small",component:"form",sx:{p:"2px 0px",display:"flex",alignItems:"center"},children:[H?(0,P.jsx)(u.Z,{sx:{ml:1,flex:1},size:"small",placeholder:"Search this table...",inputProps:{"aria-label":"search this table..."},autoFocus:!0,value:L,onChange:ye,variant:"standard",label:"Search"}):null,(0,P.jsx)(E.Z,{title:"Search...",placement:"top",children:(0,P.jsx)(q.Z,{color:"primary",type:"button","aria-label":"search",onClick:function(){$((function(e){return!e}))},children:(0,P.jsx)(_.jVj,{size:"24px"})})}),(0,P.jsx)(E.Z,{title:"Add Student",placement:"top",children:(0,P.jsx)(q.Z,{color:"secondary","aria-label":"delete",onClick:xe,children:(0,P.jsx)(_.SC9,{size:"27px"})})})]})]})}),(0,P.jsx)(ce.Z,{}),(0,P.jsx)(I,{filtereddata:he,onOpenEditModal:pe,onOpenDeleteModal:Ze,onOpenViewModal:ge})]})})]})}}}]);
//# sourceMappingURL=45.701a16d4.chunk.js.map