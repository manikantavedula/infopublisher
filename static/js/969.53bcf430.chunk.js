"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[969],{1969:(e,n,a)=>{a.r(n),a.d(n,{default:()=>F});var t=a(6934),s=a(1478),r=a(7588),o=a(4970),c=a(3721),d=a(3379),l=a(4554),i=a(890),p=a(68),m=a(3400),h=a(1889),u=a(2791),x=a(9434),j=(a(1894),a(8001),a(8591),a(1399)),g=(a(1065),a(3967)),f=a(3239),Z=a(8745),b=a(618),v=a(5855),y=a(184);(0,t.ZP)(Z.Z)((e=>{let{theme:n}=e;return{["&.".concat(b.Z.head)]:{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"},["&.".concat(b.Z.body)]:{fontSize:14}}})),(0,t.ZP)(v.Z)((e=>{let{theme:n}=e;return{"&:nth-of-type(odd)":{backgroundColor:n.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));a(3251),a(9747),a(9997),a(2506);var I=a(1724);I.Ry().shape({series:I.Z_().required("Please select an option"),standard:I.Z_().required("Please select an option"),subject:I.Z_().required("Please select an option"),type:I.Z_().required("Please select an option"),onlineClasses:I.Z_().required("OnlineClasses is required")});I.Ry().shape({onlineClasses:I.Z_().required("OnlineClasses is required")});I.Ry().shape({onlineClasses:I.Z_().required("OnlineClasses is required")});I.Ry().shape({onlineClasses:I.Z_().required("OnlineClasses is required")});var C=a(5289),S=a(9157),_=a(5661),w=a(6739),k=a(3980);function q(e){let{isOpen:n,onCloseEmpty:a,editModalData:t}=e;return(0,y.jsxs)(C.Z,{open:n,fullWidth:!0,children:[(0,y.jsx)(_.Z,{className:"flex justify-content-between",children:(0,y.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,y.jsx)(l.Z,{padding:"8px",fontSize:18,children:"".concat(t.lessonIdName," (Part ").concat(t.partNo,") - ").concat(t.name)}),(0,y.jsx)(m.Z,{onClick:a,children:(0,y.jsx)(w.Z,{})})]})}),(0,y.jsx)(S.Z,{children:(0,y.jsx)(k.Z,{videoId:t.liveVideoId})})]})}var P=a(1979),N=a(1701),V=a(8956),z=a(6871),O=(a(616),a(7125)),E=a(9657),L=a(2521),M=a(9704),R=a.n(M),W=a(3854);(0,P.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});const A=(0,t.ZP)((e=>(0,y.jsx)(r.Z,{disableGutters:!0,elevation:0,square:!0,...e})))((e=>{let{theme:n}=e;return{border:"1px solid ".concat(n.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),D=(0,t.ZP)((e=>(0,y.jsx)(o.Z,{expandIcon:(0,y.jsx)(s.Z,{sx:{fontSize:"0.9rem"}}),...e})))((e=>{let{theme:n}=e;return{backgroundColor:"dark"===n.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:n.spacing(1)}}})),T=(0,t.ZP)(c.Z)((e=>{let{theme:n}=e;return{padding:n.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}}));const F=function(){console.log("In OnlineClasses"),(0,g.Z)();const[e,n]=(0,u.useState)(0),[a,t]=(z.s0,(0,u.useState)(!1)),[s,r]=(0,u.useState)(!1),[o,c]=(0,u.useState)(""),[Z,b]=(0,u.useState)({}),[v,I]=(0,u.useState)(""),[C,S]=(0,u.useState)(!1),[_,w]=(0,u.useState)(""),[k,P]=(0,u.useState)([]),M=(0,x.I0)(),F=(0,x.v9)((e=>e.onlineClasses.data));(0,u.useLayoutEffect)((()=>{r(!0),console.log(F),(!F||F.length<=0)&&M(j.k.getAll())}),[F]);const J=localStorage.getItem("key_for_access"),K=function(e,n){const a=R().AES.decrypt(e,n).toString(R().enc.Utf8);return console.log(a),JSON.parse(a)}(localStorage.getItem("access_role_data"),J),B=K.role,[G,U]=(0,u.useState)(F);(0,u.useEffect)((()=>{console.log(G)}),[G]),(0,u.useEffect)((()=>{if(console.log(F),F&&F.length>0){if(console.log(F),U(F),"school"===B){w(B),console.log(K);const e=K.school_series.split(", "),n=[];e.forEach((e=>{const[a,t]=e.split("|-|"),s=n.find((e=>e.id===parseInt(a)));s?s.standard.push(parseInt(t)):n.push({id:parseInt(a),standard:[parseInt(t)]})})),console.log(n),P(n);let a=F.filter((e=>n.some((n=>e.series_id===n.id)))).map((e=>{let a=e.data.filter((a=>n.some((n=>e.series_id===n.id&&n.standard.includes(a.standard_id)))));return{...e,data:a}}));console.log(F,n,a),U(a)}else if("student"===B){w(B),console.log(F,K);let e=F.map((e=>{const n=K.formatted_data.filter((n=>{const[a,t]=n.split("|-|");return e.series_id===parseInt(a)&&e.data.some((e=>e.standard_id===parseInt(t)))})),a=e.data.filter((e=>n.some((n=>{const[a,t]=n.split("|-|");return e.standard_id===parseInt(t)}))));return{...e,data:a}})).filter((e=>K.formatted_data.some((n=>{const[a]=n.split("|-|");return e.series_id===parseInt(a)}))));console.log(F,e),U(e)}r(!1)}}),[F]);const H=e=>{t(!0),c("video"),b(e)},[Q,X]=(0,u.useState)(!1),[Y,$]=(0,u.useState)(!1),[ee,ne]=(0,u.useState)(!1),[ae,te]=(0,u.useState)(!1),[se,re]=(0,u.useState)(!1),oe=e=>(n,a)=>{$(!!a&&e),ne(!1),te(!1),re(!1)},ce=e=>(n,a)=>{ne(!!a&&e),te(!1),re(!1)},de=e=>(n,a)=>{te(!!a&&e),re(!1)},le=e=>(n,a)=>{re(!!a&&e)};function ie(e){let n=null;const a=e.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([^&?/]+)/);return a&&(n=a[1]),n}return(0,y.jsxs)(N.Z,{children:[(0,y.jsx)(d.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:s,children:(0,y.jsx)(f.Z,{color:"inherit"})}),!s&&(0,y.jsxs)(y.Fragment,{children:[a&&"video"===o?(0,y.jsx)(q,{isOpen:a,onCloseEmpty:()=>{t(!1),c(""),b({})},editModalData:Z}):null,"other"===B?(0,y.jsx)(l.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:G&&G.length>0&&G.map(((e,n)=>{return(0,y.jsxs)(A,{expanded:Q==="panelseries".concat(n+1),onChange:(a="panelseries".concat(n+1),(e,n)=>{X(!!n&&a),$(!1),ne(!1),te(!1),re(!1)}),children:[(0,y.jsx)(D,{"aria-controls":"panelseries".concat(n+1,"d-content"),id:"panelseries".concat(n+1,"d-header"),children:(0,y.jsx)(i.Z,{children:"Whiz Kid"===e.name?(0,y.jsx)("img",{src:O,width:100}):"Smart Learn"===e.name?(0,y.jsx)("img",{src:E,width:100}):(0,y.jsx)("img",{src:L,width:100})})}),(0,y.jsx)(T,{children:e.data.length>0&&e.data.map(((a,t)=>(0,y.jsxs)(A,{expanded:Y==="panelstandard".concat(n+t+1),onChange:oe("panelstandard".concat(n+t+1)),children:[(0,y.jsx)(D,{"aria-controls":"panelstandard".concat(n+t+1,"d-content"),id:"panelstandard".concat(n+t+1,"d-header"),children:(0,y.jsx)(i.Z,{children:a.name})}),(0,y.jsx)(T,{children:a.data.length>0&&a.data.map(((a,s)=>(0,y.jsxs)(A,{expanded:ee==="panelsubject".concat(n+t+s+1),onChange:ce("panelsubject".concat(n+t+s+1)),children:[(0,y.jsx)(D,{"aria-controls":"panelsubject".concat(n+t+s+1,"d-content"),id:"panelsubject".concat(n+t+s+1,"d-header"),children:(0,y.jsx)(i.Z,{children:a.name})}),(0,y.jsx)(T,{children:a.data.length>0&&a.data.map(((a,r)=>(0,y.jsxs)(A,{expanded:ae==="panellesson".concat(n+t+s+r+1),onChange:de("panellesson".concat(n+t+s+r+1)),children:[(0,y.jsx)(D,{"aria-controls":"panellesson".concat(n+t+s+r+1,"d-content"),id:"panellesson".concat(n+t+s+r+1,"d-header"),children:(0,y.jsx)(i.Z,{children:a.name})}),(0,y.jsx)(T,{children:a.parts.length>0&&a.parts.map(((o,c)=>(0,y.jsxs)(A,{expanded:se==="panelparts".concat(n+t+s+r+c+1),onChange:le("panelparts".concat(n+t+s+r+c+1)),children:[(0,y.jsx)(D,{"aria-controls":"panelparts".concat(n+t+s+r+c+1,"d-content"),id:"panelparts".concat(n+t+s+r+c+1,"d-header"),children:(0,y.jsx)(i.Z,{children:o.name})}),(0,y.jsx)(T,{children:o.liveVideoId?(0,y.jsx)(p.Z,{title:"Live Video",placement:"top",className:o.liveVideoId,children:(0,y.jsx)(m.Z,{color:"primary",type:"button",onClick:()=>H({...e,videoType:"live",lessonIdName:a.name,name:o.name,partNo:o.partNo,liveVideoId:ie(o.liveVideoId)}),children:(0,y.jsx)(V.OiJ,{size:"24px"})})}):null})]},"panelparts".concat(n+t+s+r+c+1))))})]},"panellesson".concat(n+t+s+r+1))))})]},"panelsubject".concat(n+t+s+1))))})]},"panelstandard".concat(n+t+1))))})]},"panelseries".concat(n+1));var a}))}):(0,y.jsx)(l.Z,{sx:{bgcolor:"background.paper",width:"100%"},children:G&&G.length>0&&G.map(((e,n)=>(0,y.jsx)(T,{children:e.data.length>0&&e.data.map(((a,t)=>(0,y.jsxs)(A,{expanded:Y==="panelstandard".concat(e.name+a.name+n+t+1),onChange:oe("panelstandard".concat(e.name+a.name+n+t+1)),children:[(0,y.jsx)(D,{"aria-controls":"panelstandard".concat(e.name+a.name+n+t+1,"d-content"),id:"panelstandard".concat(e.name+a.name+n+t+1,"d-header"),children:(0,y.jsxs)(l.Z,{children:[(0,y.jsxs)(i.Z,{children:["Whiz Kid"===e.name?(0,y.jsx)("img",{src:O,width:100}):"Smart Learn"===e.name?(0,y.jsx)("img",{src:E,width:100}):(0,y.jsx)("img",{src:L,width:100})," "]}),(0,y.jsx)(i.Z,{children:(0,y.jsxs)("span",{style:{fontFamily:"sans-serif",fontWeight:"bold",fontSize:"20px"},children:[a.name," Class"]})})]})}),(0,y.jsx)(T,{children:a.data.length>0&&a.data.map(((s,r)=>(0,y.jsxs)(A,{expanded:ee==="panelsubject".concat(e.name+a.name+s.name+n+t+r+1),onChange:ce("panelsubject".concat(e.name+a.name+s.name+n+t+r+1)),children:[(0,y.jsx)(D,{"aria-controls":"panelsubject".concat(e.name+a.name+s.name+n+t+r+1,"d-content"),id:"panelsubject".concat(e.name+a.name+s.name+n+t+r+1,"d-header"),children:(0,y.jsx)(i.Z,{children:s.name})}),(0,y.jsx)(T,{children:s.data.length>0&&s.data.map(((o,c)=>(0,y.jsxs)(A,{expanded:ae==="panellesson".concat(e.name+a.name+s.name+o.name+n+t+r+c+1),onChange:de("panellesson".concat(e.name+a.name+s.name+o.name+n+t+r+c+1)),children:[(0,y.jsx)(D,{"aria-controls":"panellesson".concat(e.name+a.name+s.name+o.name+n+t+r+c+1,"d-content"),id:"panellesson".concat(e.name+a.name+s.name+o.name+n+t+r+c+1,"d-header"),children:(0,y.jsx)(i.Z,{children:o.name})}),(0,y.jsx)(T,{children:(0,y.jsx)(h.ZP,{container:!0,spacing:2,children:o.parts.length>0&&o.parts.map(((n,a)=>n.liveVideoId&&(0,y.jsx)(h.ZP,{item:!0,xs:4,sm:4,md:2,children:(0,y.jsxs)(l.Z,{children:[(0,y.jsx)(p.Z,{title:"Live Video",placement:"top",className:n.liveVideoId,children:(0,y.jsxs)(m.Z,{color:"error",type:"button",onClick:()=>H({...e,videoType:"live",lessonIdName:o.name,name:n.name,partNo:n.partNo,liveVideoId:ie(n.liveVideoId)}),children:[(0,y.jsx)(W.Z,{sx:{cursor:"pointer"}})," "]})}),(0,y.jsxs)(i.Z,{children:["Part ",a+1]})]})})))})})]},"panellesson".concat(e.name+a.name+s.name+o.name+n+t+r+c+1))))})]},"panelsubject".concat(n+t+r+1))))})]},"panelstandard".concat(n+t+1))))})))})]})]})}},3980:(e,n,a)=>{a.d(n,{Z:()=>o});var t=a(2791),s=a(5036),r=(a(6054),a(184));const o=e=>{let{videoId:n}=e;const a=(0,t.useRef)();(0,t.useEffect)((()=>{a.current&&a.current.plyr&&a.current.plyr.play()}),[]);const o={type:"video",sources:[{src:n,provider:"youtube"}]};return(0,r.jsx)(s.Z,{source:o,ref:a,options:{autoplay:!0}})}},2521:(e,n,a)=>{e.exports=a.p+"static/media/globalsmart.9a3b57e2f19273329020.png"},9657:(e,n,a)=>{e.exports=a.p+"static/media/smartlearn.b88014c56d830e8c0b03.png"},7125:(e,n,a)=>{e.exports=a.p+"static/media/whizkid.e0fd82f422b08cb0f651.png"}}]);
//# sourceMappingURL=969.53bcf430.chunk.js.map