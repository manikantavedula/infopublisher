"use strict";(self.webpackChunkinfopublishers=self.webpackChunkinfopublishers||[]).push([[229],{1370:(e,o,t)=>{t.d(o,{Z:()=>i});var n=t(2791),l=t(6151);const s=(0,t(6934).ZP)(l.Z)((e=>{let{theme:o,ownerState:t}=e;const{palette:n,functions:l,borders:s,boxShadows:c}=o,{color:r,variant:a,size:i,circular:d,iconOnly:u,darkMode:h}=t,{white:j,text:x,transparent:p,gradients:m,grey:b}=n,{boxShadow:f,linearGradient:g,pxToRem:C,rgba:Z}=l,{borderRadius:w}=s,{colored:y}=c;return{..."contained"===a&&(()=>{const e=n[r]?n[r].main:j.main,o=n[r]?n[r].focus:j.focus,t=y[r]?"".concat(f([0,3],[3,0],n[r].main,.15),", ").concat(f([0,3],[1,-2],n[r].main,.2),", ").concat(f([0,1],[5,0],n[r].main,.15)):"none",l=y[r]?"".concat(f([0,14],[26,-12],n[r].main,.4),", ").concat(f([0,4],[23,0],n[r].main,.15),", ").concat(f([0,8],[10,-5],n[r].main,.2)):"none";let s=j.main;h||"white"!==r&&"light"!==r&&n[r]?!h||"white"!==r&&"light"!==r&&n[r]||(s=b[600]):s=x.main;let c=j.main;return"white"===r?c=x.main:"primary"!==r&&"error"!==r&&"dark"!==r||(c=j.main),{background:e,color:s,boxShadow:t,"&:hover":{backgroundColor:e,boxShadow:l},"&:focus:not(:hover)":{backgroundColor:o,boxShadow:n[r]?f([0,0],[0,3.2],n[r].main,.5):f([0,0],[0,3.2],j.main,.5)},"&:disabled":{backgroundColor:e,color:c}}})(),..."outlined"===a&&(()=>{const e="white"===r?Z(j.main,.1):p.main,o=n[r]?n[r].main:j.main,t=n[r]?f([0,0],[0,3.2],n[r].main,.5):f([0,0],[0,3.2],j.main,.5);let l=n[r]?n[r].main:Z(j.main,.75);return"white"===r&&(l=Z(j.main,.75)),{background:e,color:o,borderColor:l,"&:hover":{background:p.main,borderColor:o},"&:focus:not(:hover)":{background:p.main,boxShadow:t},"&:active:not(:hover)":{backgroundColor:o,color:j.main,opacity:.85},"&:disabled":{color:o,borderColor:o}}})(),..."gradient"===a&&(()=>{const e="white"!==r&&m[r]?g(m[r].main,m[r].state):j.main,o=y[r]?"".concat(f([0,3],[3,0],n[r].main,.15),", ").concat(f([0,3],[1,-2],n[r].main,.2),", ").concat(f([0,1],[5,0],n[r].main,.15)):"none",t=y[r]?"".concat(f([0,14],[26,-12],n[r].main,.4),", ").concat(f([0,4],[23,0],n[r].main,.15),", ").concat(f([0,8],[10,-5],n[r].main,.2)):"none";let l=j.main;return"white"===r?l=x.main:"light"===r&&(l=m.dark.state),{background:e,color:l,boxShadow:o,"&:hover":{boxShadow:t},"&:focus:not(:hover)":{boxShadow:o},"&:disabled":{background:e,color:l}}})(),..."text"===a&&(()=>{const e=n[r]?n[r].main:j.main,o=n[r]?n[r].focus:j.focus;return{color:e,"&:hover":{color:o},"&:focus:not(:hover)":{color:o}}})(),...d&&{borderRadius:w.section},...u&&(()=>{let e=C(38);"small"===i?e=C(25.4):"large"===i&&(e=C(52));let o="".concat(C(11)," ").concat(C(11)," ").concat(C(10));return"small"===i?o=C(4.5):"large"===i&&(o=C(16)),{width:e,minWidth:e,height:e,minHeight:e,padding:o,"& .material-icons":{marginTop:0},"&:hover, &:focus, &:active":{transform:"none"}}})()}}));var c=t(9373),r=t(184);const a=(0,n.forwardRef)(((e,o)=>{let{color:t,variant:n,size:l,circular:a,iconOnly:i,children:d,...u}=e;const[h]=(0,c.Ad)(),{darkMode:j}=h;return(0,r.jsx)(s,{...u,ref:o,color:"primary",variant:"gradient"===n?"contained":n,size:l,ownerState:{color:t,variant:n,size:l,circular:a,iconOnly:i,darkMode:j},children:d})}));a.defaultProps={size:"medium",variant:"contained",color:"white",circular:!1,iconOnly:!1};const i=a},4229:(e,o,t)=>{t.r(o),t.d(o,{default:()=>K});var n=t(2791),l=(t(8377),t(8755),t(1889)),s=t(7621),c=(t(7035),t(2916),t(1370),t(6259),t(9373),t(8550)),r=t(9434),a=t(9747),i=t(3967),d=t(1243),u=t(3379),h=t(3239),j=t(6934),x=t(9836),p=t(3382),m=t(8745),b=t(618),f=t(9281),g=t(6890),C=t(5855),Z=t(890),w=t(68),y=t(3400),A=t(8956),S=t(184);function v(e){let{name:o}=e;return(0,S.jsx)(Z.Z,{display:"block",variant:"h6",fontSize:"16px",fontWeight:400,children:o})}const k=(0,j.ZP)(m.Z)((e=>{let{theme:o}=e;return{["&.".concat(b.Z.head)]:{backgroundColor:"rgb(17, 25, 54)",color:"#fff",padding:"16px"},["&.".concat(b.Z.body)]:{fontSize:14}}})),O=(0,j.ZP)(C.Z)((e=>{let{theme:o}=e;return{"&:nth-of-type(odd)":{backgroundColor:o.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function T(e){let{filtereddata:o,onOpenEditModal:t,onOpenDeleteModal:l,onOpenViewModal:s}=e;const[c,r]=(0,n.useState)([]),[a]=(0,n.useState)([{Header:"s.no",accessor:"sno",align:"left"},{Header:"subject",accessor:"subject",align:"left"},{Header:"action",accessor:"action",align:"center"}]);return(0,n.useEffect)((()=>{console.log(c)}),[c]),(0,n.useEffect)((()=>{let e=[];console.log(o),o&&null!==o&&(e=o.map(((e,o)=>({sno:(0,S.jsx)(Z.Z,{color:"text",variant:"h6",fontSize:"16px",fontWeight:400,children:o+1}),subject:(0,S.jsx)(v,{name:"".concat(e.name)}),action:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w.Z,{title:"Edit",placement:"top",children:(0,S.jsx)(y.Z,{color:"primary",type:"button",onClick:()=>t(e),children:(0,S.jsx)(A.D9l,{size:"24px"})})}),(0,S.jsx)(w.Z,{title:"Delete",placement:"top",children:(0,S.jsx)(y.Z,{color:"primary",type:"button",onClick:()=>l(e),children:(0,S.jsx)(A.IT9,{size:"24px"})})})]})})))),r(e)}),[o]),(0,S.jsx)(f.Z,{children:(0,S.jsxs)(x.Z,{sx:{minWidth:700,boxShadow:"none"},size:"small","aria-label":"customized table",children:[(0,S.jsx)(g.Z,{children:(0,S.jsxs)(C.Z,{children:[(0,S.jsx)(k,{align:"left",children:"S.No"}),(0,S.jsx)(k,{align:"left",children:"Subject"}),(0,S.jsx)(k,{align:"center",children:"Action"})]})}),(0,S.jsx)(p.Z,{children:c&&c.map((e=>(0,S.jsxs)(O,{children:[(0,S.jsx)(k,{component:"th",scope:"row",align:a[0].align,children:e.sno}),(0,S.jsx)(k,{align:a[1].align,children:e.subject}),(0,S.jsx)(k,{align:a[2].align,children:e.action})]},e.subject)))})]})})}var E=t(6151),P=t(5289),z=t(7123),M=t(9157),D=t(5661),H=t(4554),I=t(9012),R=(t(8001),t(6739)),W=t(2506),V=t(1724);const q=V.Ry().shape({subject:V.Z_().required("Subject is required")});function L(e){let{isOpen:o,onClose:t,onCloseEmpty:n}=e;return(0,S.jsxs)(P.Z,{open:o,fullWidth:!0,children:[(0,S.jsx)(D.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(H.Z,{padding:"8px",fontSize:18,children:"Add Subject"}),(0,S.jsx)(y.Z,{onClick:n,children:(0,S.jsx)(R.Z,{})})]})}),(0,S.jsx)(W.J9,{initialValues:{subject:""},validationSchema:q,onSubmit:e=>{console.log(e),t(e)},children:e=>{let{handleSubmit:o,errors:t,touched:n,setFieldValue:s}=e;return(0,S.jsxs)(W.l0,{onSubmit:o,children:[(0,S.jsx)(M.Z,{children:(0,S.jsx)(I.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,children:(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{name:"subject",label:"Subject",variant:"outlined",error:n.subject&&Boolean(t.subject),helperText:n.subject&&t.subject,onChange:e=>{s("subject",e.target.value)},focused:!0})})})})}),(0,S.jsx)(z.Z,{children:(0,S.jsx)(E.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}const N=V.Ry().shape({subject:V.Z_().required("Subject is required")});function F(e){let{isOpen:o,onClose:t,onCloseEmpty:s,editModalData:r}=e;const{name:a}=r,i={subject:a};(0,n.useEffect)((()=>{console.log(i)}),[i]);return(0,S.jsxs)(P.Z,{open:o,fullWidth:!0,children:[(0,S.jsx)(D.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(H.Z,{padding:"8px",fontSize:18,children:"Edit Subject"}),(0,S.jsx)(y.Z,{onClick:s,children:(0,S.jsx)(R.Z,{})})]})}),(0,S.jsx)(W.J9,{initialValues:i,validationSchema:N,onSubmit:e=>{console.log({...e}),t({...e})},children:e=>{let{values:o,handleSubmit:t,errors:n,touched:s,setFieldValue:r}=e;return(0,S.jsxs)(W.l0,{onSubmit:t,children:[(0,S.jsx)(M.Z,{children:(0,S.jsx)(I.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,children:(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{name:"subject",label:"Subject",variant:"outlined",error:s.subject&&Boolean(n.subject),helperText:s.subject&&n.subject,defaultValue:o.subject,onChange:e=>{r("subject",e.target.value)},focused:!0})})})})}),(0,S.jsx)(z.Z,{children:(0,S.jsx)(E.Z,{type:"submit",color:"primary",children:"Submit"})})]})}})]})}const G=V.Ry().shape({subject:V.Z_().required("Subject is required")});function B(e){let{isOpen:o,onClose:t,onCloseEmpty:n,editModalData:s}=e;const{name:r}=s,a={subject:r};return(0,S.jsxs)(P.Z,{open:o,fullWidth:!0,children:[(0,S.jsx)(D.Z,{className:"flex justify-content-between",children:(0,S.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(H.Z,{padding:"8px",fontSize:18,children:"Confirm Delete"}),(0,S.jsx)(y.Z,{onClick:n,children:(0,S.jsx)(R.Z,{})})]})}),(0,S.jsx)(W.J9,{initialValues:a,validationSchema:G,onSubmit:e=>{console.log(e),t(e)},children:e=>{let{values:o,handleSubmit:t,errors:n,touched:s,setFieldValue:r}=e;return(0,S.jsxs)(W.l0,{onSubmit:t,children:[(0,S.jsx)(M.Z,{children:(0,S.jsx)(I.Z,{row:!0,style:{display:"flex",flexDirection:"column"},children:(0,S.jsx)(l.ZP,{container:!0,spacing:2,children:(0,S.jsx)(l.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{name:"subject",label:"Subject",variant:"outlined",error:s.subject&&Boolean(n.subject),helperText:s.subject&&n.subject,defaultValue:o.subject,disabled:!0})})})})}),(0,S.jsx)(z.Z,{children:(0,S.jsx)(E.Z,{type:"submit",color:"primary",children:"Delete"})})]})}})]})}var J=t(9504),U=t(4721),X=t(1979),_=t(1701);(0,X.Z)({palette:{primary:{main:"#673ab7"},secondary:{main:"rgb(33, 150, 243)"}}});const K=function(){console.log("In Subject");const e=(0,i.Z)(),[o,t]=(0,n.useState)(!1),[j,x]=(0,n.useState)(!1),[p,m]=(0,n.useState)(""),[b,f]=(0,n.useState)({}),[g,C]=(0,n.useState)(""),[v,k]=(0,n.useState)(!1),O=(0,r.I0)();(0,n.useLayoutEffect)((()=>{O(a.k.getAll())}),[]);const E=(0,r.v9)((e=>e.subject.data)),P=(0,n.useMemo)((()=>{if(console.log(g),""===g.trim())return E;return E.filter((e=>(console.log(e,e.name,e.name.toLowerCase(),g),e.name.toLowerCase().includes(g.trim().toLowerCase()))))}),[g,E]),z=n.useRef(null),M=()=>{t(!1),m(""),f({})},D=(0,n.useCallback)((e=>{var o;console.log(e.target.value,z,z.current),null===(o=z.current)||void 0===o||o.focus(),C(e.target.value)}));return(0,S.jsxs)(_.Z,{theme:e,children:[(0,S.jsx)(u.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:j,children:(0,S.jsx)(h.Z,{color:"inherit"})}),o&&"add"===p?(0,S.jsx)(L,{isOpen:o,onClose:async e=>{x(!0),console.log(e);try{const o=await d.Z.post("".concat("http://127.0.0.1:5000","/subject/submit-form"),{...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(o.data),t(!1),m(""),O(a.k.getAll()),x(!1)}catch(o){x(!1),console.error(o)}},onCloseEmpty:M}):null,o&&"edit"===p?(0,S.jsx)(F,{isOpen:o,onClose:async e=>{x(!0),console.log(e,b);try{const o=await d.Z.post("".concat("http://127.0.0.1:5000","/subject/submit-edit-form"),{...b,...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(o.data),t(!1),m(""),f({}),O(a.k.getAll()),x(!1)}catch(o){x(!1),console.error(o)}},onCloseEmpty:M,editModalData:b}):null,o&&"delete"===p?(0,S.jsx)(B,{isOpen:o,onClose:async e=>{x(!0),console.log(e,b);try{const o=await d.Z.post("".concat("http://127.0.0.1:5000","/subject/submit-delete-form"),{...b,...e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://app.infopublisher.in","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Headers":"Access-Control-Allow-Headers, Access-Control-Allow-Methods, Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Origin, X-Requested-With, Content-Type, Accept, Authorization, access-control-allow-credentials,access-control-allow-headers,access-control-allow-methods,access-control-allow-origin,content-type","Access-Control-Allow-Credentials":"true"}});console.log(o.data),t(!1),m(""),f({}),O(a.k.getAll()),x(!1)}catch(o){x(!1),console.error(o)}},onCloseEmpty:M,editModalData:b}):null,(0,S.jsx)(l.ZP,{children:(0,S.jsxs)(s.Z,{sx:{boxShadow:"none"},children:[(0,S.jsx)(J.Z,{children:(0,S.jsxs)(l.ZP,{variant:"gradient",bgcolor:"info",borderRadius:"lg",display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,S.jsx)(Z.Z,{variant:"h3",fontWeight:500,color:"primary",children:"Subject List"}),(0,S.jsxs)(l.ZP,{size:"small",component:"form",sx:{p:"2px 0px",display:"flex",alignItems:"center"},children:[v?(0,S.jsx)(c.Z,{sx:{ml:1,flex:1},size:"small",placeholder:"Search this table...",inputProps:{"aria-label":"search this table..."},autoFocus:!0,value:g,onChange:D,variant:"subject",label:"Search"}):null,(0,S.jsx)(w.Z,{title:"Search...",placement:"top",children:(0,S.jsx)(y.Z,{color:"primary",type:"button","aria-label":"search",onClick:()=>{k((e=>!e))},children:(0,S.jsx)(A.jVj,{size:"24px"})})}),(0,S.jsx)(w.Z,{title:"Add Subject",placement:"top",children:(0,S.jsx)(y.Z,{color:"secondary","aria-label":"delete",onClick:()=>{t(!0),m("add")},children:(0,S.jsx)(A.SC9,{size:"27px"})})})]})]})}),(0,S.jsx)(U.Z,{}),(0,S.jsx)(T,{filtereddata:P,onOpenEditModal:e=>{t(!0),m("edit"),f(e)},onOpenDeleteModal:e=>{t(!0),m("delete"),f(e)}})]})})]})}}}]);
//# sourceMappingURL=229.0d7270ae.chunk.js.map